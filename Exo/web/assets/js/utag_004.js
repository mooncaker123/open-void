//tealium universal tag - utag.422 ut4.0.202103241037, Copyright 2021 Tealium.com Inc. All Rights Reserved.
var s_doPluginsVer='v04112019';var s_account="cox-avalanche-dev"
var s=s_gi(s_account)
s.tealium_added_Visitor_function=window.tealium_added_Visitor_function;s.visitor=Visitor.getInstance('8C6767C25245AD1A0A490D4C@AdobeOrg',{trackingServer:'metrics.cox.com',trackingServerSecure:'smetrics.cox.com',marketingCloudServer:'metrics.cox.com',marketingCloudServerSecure:'smetrics.cox.com'});s.trackDownloadLinks=true
s.trackExternalLinks=true
s.trackInlineStats=true
s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx"
s.linkInternalFilters="javascript:,cox.com,cox.net,coxbusiness.com"
s.linkLeaveQueryString=false
s.linkTrackVars="None"
s.linkTrackEvents="None"
s.trackingServer=s.visitor.trackingServer
s.trackingServerSecure=s.visitor.trackingServerSecure
s.usePlugins=true
s.fps=[['event5','[_FAKE_InternalSearch]'],['event145','[_FAKE_InternalSearchDH]'],['event6','[_FAKE_ToolUsed]'],['event60','[_FAKE_ShopFilter]'],['event38','[_FAKE_OfferID]',true],['event51','[_FAKE_NavigationLinks]',true],['event34','[_FAKE_InternalCampaign]',true]];function SCGetCookie(c,notFoundString){var dc=document.cookie,cs;if(dc.indexOf(c)!==-1){cs=dc.split(c)[1];return(cs.substr(0,1)==='='?cs.substr(1):cs).split(';')[0];};return(notFoundString||'');}
function s_doPlugins(s){if(s.linkType=='o'||s.linkType=='d'||s.linkType=='e'){s.contextData['cm.ssf']='1';s.linkTrackVars=s.apl(s.linkTrackVars,"contextData.cm.ssf");}
else delete s.contextData["cm.ssf"];if(s.linkObject){if(s.linkType==='d'){s.eVar2=s.linkURL;s.events=s.apl(s.events,'event3',',',2);}}
s.tPart=s.getTimeParting(-5,'n');if(s.tPart){s.eVar11=[s.tPart.split('time=')[1],s.tPart.split('day=')[1].split('|')[0].trim()].join('|');}
s.products=s.fakeProductString(s.fps);s.convert0toZero('eVar20,eVar21,eVar24,eVar26,eVar28,eVar43,eVar64',['|',':']);s.eVar14=s.getPreviousValue(s.pageName,'gpv_v14','');if(s.eVar14)s.prop15='D=v14';s.contextData.visitorAPI='Visitor API Missing';if(typeof Visitor!=='undefined'){s.contextData.visitorAPI=s.visitor.version;s.eVar75=s.visitor.getMarketingCloudVisitorID();}
s.prop75=[s_doPluginsVer,s.version,s.contextData.visitorAPI].join('|');s.AudienceManagement.setup({"partner":"cox","containerNSID":0,"uuidCookie":{"name":"aam_uuid","days":30},});var id_data=new Array(5);for(var i=0;i<5;i++){id_data[i]=new Array(3);}
var cGuid=s.eVar61||"";if(s.eVar73)
var cb_dnb_V73=s.eVar73.split(':')[0]||"";else
var cb_dnb_V73=""
if(s.eVar74)
{var cb_Guid_V74=s.eVar74.split(':')[0]||"";var cb_Guid_V74_buss_pro=s.eVar74.split(':')[1]||"";var cb_Guid_V74_buss_act=s.eVar74.split(':')[2]||"";}
else
{var cb_Guid_V74="";var cb_Guid_V74_buss_pro="";var cb_Guid_V74_buss_act="";}
var i=0,j=0;if(cGuid!="")
{id_data[j][0]="my_crm_cox";id_data[j][1]=cGuid;id_data[j][2]=Visitor.AuthState.AUTHENTICATED;j++;}
if(cb_Guid_V74!="")
{id_data[j][0]="cb_guid";id_data[j][1]=cb_Guid_V74;id_data[j][2]=Visitor.AuthState.AUTHENTICATED;j++;}
if(cb_dnb_V73!="")
{id_data[j][0]="dnb_id";id_data[j][1]=cb_dnb_V73;id_data[j][2]=Visitor.AuthState.UNKNOWN;j++;}
if(cb_Guid_V74_buss_pro!="")
{id_data[j][0]="cb_guid_buss_profile";id_data[j][1]=cb_Guid_V74_buss_pro;id_data[j][2]=Visitor.AuthState.AUTHENTICATED;j++;}
if(cb_Guid_V74_buss_act!="")
{id_data[j][0]="cb_guid_buss_act";id_data[j][1]=cb_Guid_V74_buss_act;id_data[j][2]=Visitor.AuthState.AUTHENTICATED;j++;}
var json_ids={};for(var i=0;i<j;i++)
{json_ids[id_data[i][0]]={"id":id_data[i][1],"authState":id_data[i][2]};}
s.visitor.setCustomerIDs(json_ids);}s.doPlugins=s_doPlugins;s.apl=function(l,v,d,u){var s=this;d=d?d:",";if(!s.inList(l,v,d,u))l=l?l+d+v:v;return l};s.getValOnce=function(v,c,e,t){var s=this,a=new Date,v=v?v:"",c=c?c:"s_gvo",e=e?e:0,i=t==="m"?6E4:864E5,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e===0?0:a)}return v===k?"":v};s.getProductNum=function(){var s=this,pn,e=new Date();if(!s.c_r('pn'))pn=1;else pn=parseInt(s.c_r('pn'))+1;e.setTime(e.getTime()+(30*86400000));s.c_w('pn',pn,e);return pn;}
s.fakeProductString=function(arr){var s=this,i,r;if(s.products||typeof s.events==='undefined'||s.events.length<1)return s.products;for(i=0;i<arr.length;i++){if((s.events+',').indexOf(arr[i][0]+',')>-1){r=[';',arr[i][1],s.getProductNum()].join('');if(arr[i][2])s.linkTrackVars=s.apl(s.linkTrackVars,'products',',',2);break;}}
return r;}
s.convert0toZero=function(vals,delims){var s=this,v,d,i,x,fixed;vals=vals.split(',');for(i=0;i<vals.length;i++){if(!s.hasOwnProperty(vals[i]))continue;v=s[vals[i]];d='';for(x=0;x<delims.length;x++)if(v&&v.indexOf(delims[x])>=0)d=delims[x];if(d&&v&&v.indexOf(d)>=0)v=v.split(d);else v=[v];fixed=[];for(var j=0;j<v.length;j++){if(v[j]===0||v[j]==='0')fixed[j]='zero';else fixed[j]=v[j];}
s[vals[i]]=fixed.join(d);}};s.getTimeParting=function(z,h){var s=this,od=new Date("1/1/2000");if(od.getDay()!=6||od.getMonth()!=0)return"Data Not Available";else{var H,M,D,U,ds,de,tm,da=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],mo=["January","February","March","April","May","June","July","August","September","October","November","December"];d=new Date;z=z?z:0;z=parseFloat(z);h=h?h:"n";if(s._tpDST&&typeof s._tpDST[d.getFullYear()]!="undefined"){var dso=s._tpDST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+
"/"+d.getFullYear());de=new Date(dso[1]+"/"+d.getFullYear());if(h=="n"&&d>ds&&d<de)z=z+1;else if(h=="s"&&(d>de||d<ds))z=z+1}d=d.getTime()+d.getTimezoneOffset()*6E4;d=new Date(d+36E5*z);H=d.getHours();M=d.getMinutes();M=M<10?"0"+M:M;U="AM";if(H>=12){U="PM";H=H-12}if(H==0)H=12;D=d.getDate()<10?"0"+d.getDate():d.getDate();tm=H+":"+M+" "+U;return"year="+d.getFullYear()+" | month="+mo[d.getMonth()]+" | date="+D+" | day="+da[d.getDay()]+" | time="+tm}};s._tpDST={2017:"3/12,11/5",2018:"3/11,11/4",2019:"3/10,11/3",2020:"3/8,11/1",2021:"3/14,11/7",2022:"3/13,11/6",2023:"3/12,11/5",2024:"3/10,11/3",2025:"3/9,11/2",2026:"3/8,11/1",2027:"3/14,11/7",2028:"3/12,11/5",2029:"3/11,11/4",2030:"3/10,11/3"};s.getPreviousValue=function(v,c,el){var s=this,t=new Date,i,j,r="",f=1;c=c?c:"s_gpv";t.setTime(t.getTime()+18E5);if(el){f=0;i=el.split(",");j=s.events?s.events.split(","):"";for(var x=0,il=i.length;x<il;x++){for(var y=0,jl=j.length;y<jl;y++)if(i[x]==j[y]){f=1;break}if(f==1)break}}if(f==1){if(s.c_r(c))r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,"no value",t)}return r};s.vpr=function(vs,v){if(typeof v!="undefined"){var s=this;s[vs]=v}};s.inList=function(l,v,d,u){if(typeof v!="string")return false;var s=this,ar=Array();if(typeof l=="string"){d=d?d:",";ar=l.split(d)}else if(typeof l=="object")ar=l;else return false;for(var i=0,arlength=ar.length;i<arlength;i++)if(typeof u!="undefined"&&u==1&&v==ar[i])return true;else if(v.toLowerCase()==ar[i].toLowerCase())return true;return false};function AppMeasurement_Module_Integrate(l){var c=this;c.s=l;var e=window;e.s_c_in||(e.s_c_il=[],e.s_c_in=0);c._il=e.s_c_il;c._in=e.s_c_in;c._il[c._in]=c;e.s_c_in++;c._c="s_m";c.list=[];c.add=function(d,b){var a;b||(b="s_Integrate_"+d);e[b]||(e[b]={});a=c[d]=e[b];a.a=d;a.e=c;a._c=0;a._d=0;void 0==a.disable&&(a.disable=0);a.get=function(b,d){var f=document,h=f.getElementsByTagName("HEAD"),k;if(!a.disable&&(d||(v="s_"+c._in+"_Integrate_"+a.a+"_get_"+a._c),a._c++,a.VAR=v,a.CALLBACK="s_c_il["+c._in+"]."+
a.a+".callback",a.delay(),h=h&&0<h.length?h[0]:f.body))try{k=f.createElement("SCRIPT"),k.type="text/javascript",k.setAttribute("async","async"),k.src=c.c(a,b),0>b.indexOf("[CALLBACK]")&&(k.onload=k.onreadystatechange=function(){a.callback(e[v])}),h.firstChild?h.insertBefore(k,h.firstChild):h.appendChild(k)}catch(l){}};a.callback=function(b){var c;if(b)for(c in b)Object.prototype[c]||(a[c]=b[c]);a.ready()};a.beacon=function(b){var d="s_i_"+c._in+"_Integrate_"+a.a+"_"+a._c;a.disable||(a._c++,d=e[d]=new Image,d.src=c.c(a,b))};a.script=function(b){a.get(b,1)};a.delay=function(){a._d++};a.ready=function(){a._d--;a.disable||l.delayReady()};c.list.push(d)};c._g=function(d){var b,a=(d?"use":"set")+"Vars";for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&b[a])try{b[a](l,b)}catch(e){}};c._t=function(){c._g(1)};c._d=function(){var d,b;for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&0<b._d)return 1;return 0};c.c=function(c,b){var a,e,g,f;"http"!=b.toLowerCase().substring(0,4)&&(b="http://"+b);l.ssl&&(b=l.replace(b,"http:","https:"));c.RAND=Math.floor(1E13*Math.random());for(a=0;0<=a;)a=b.indexOf("[",a),0<=a&&(e=b.indexOf("]",a),e>a&&(g=b.substring(a+1,e),2<g.length&&"s."==g.substring(0,2)?(f=l[g.substring(2)])||(f=""):(f=""+c[g],f!=c[g]&&parseFloat(f)!=c[g]&&(g=0)),g&&(b=b.substring(0,a)+encodeURIComponent(f)+b.substring(e+1)),a=e));return b}}
s.loadModule("AudienceManagement");function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}
"function"!==typeof window.DIL&&(window.DIL=function(a,c){var e=[],b,h;a!==Object(a)&&(a={});var g,k,q,m,r,n,x,E,t,A,L,B,C,F;g=a.partner;k=a.containerNSID;q=!!a.disableDestinationPublishingIframe;m=a.iframeAkamaiHTTPS;r=a.mappings;n=a.uuidCookie;x=!0===a.enableErrorReporting;E=a.visitorService;t=a.declaredId;A=!0===a.removeFinishedScriptsAndCallbacks;L=!0===a.delayAllUntilWindowLoad;B=!0===a.disableIDSyncs;C="undefined"===typeof a.secureDataCollection||!0===a.secureDataCollection;F=!0===a.useCORSOnly;var M,N,I,G,O,P,Q,R;M=!0===a.disableScriptAttachment;N=!0===a.disableDefaultRequest;I=a.afterResultForDefaultRequest;G=a.dpIframeSrc;O=!0===a.testCORS;P=!0===a.useJSONPOnly;Q=a.visitorConstructor;R=!0===a.disableCORS;x&&DIL.errorModule.activate();var T=!0===window._dil_unit_tests;(b=c)&&e.push(b+"");if(!g||"string"!==typeof g)return b="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:b,filename:"dil.js"}),Error(b);b="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(k||"number"===typeof k)k=parseInt(k,10),!isNaN(k)&&0<=k&&(b="");b&&(k=0,e.push(b),b="");h=DIL.getDil(g,k);if(h instanceof DIL&&h.api.getPartner()===g&&h.api.getContainerNSID()===k)return h;if(this instanceof DIL)DIL.registerDil(this,g,k);else return new DIL(a,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+g+" and containerNSID = "+k);var y={IS_HTTPS:C||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC",MILLIS_PER_DAY:864E5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(g)+"_"+k,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP"},J={stuffed:{}},v={},p={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:k+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(d){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=!0;var l=this,s,f,a,b;if("function"===typeof d&&"function"===typeof d.getInstance){if(E===Object(E)&&(s=E.namespace)&&"string"===typeof s)f=d.getInstance(s,{idSyncContainerID:k});else{this.releaseType="no namespace";this.releaseRequests();return}if(f===Object(f)&&f instanceof d&&"function"===typeof f.isAllowed&&"function"===typeof f.getMarketingCloudVisitorID&&"function"===typeof f.getCustomerIDs&&"function"===typeof f.isOptedOut){this.VisitorAPI=d;if(!f.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=f;a=function(d){"VisitorAPI"!==l.releaseType&&(l.mid=d,l.releaseType="VisitorAPI",l.releaseRequests())};b=f.getMarketingCloudVisitorID(a);if("string"===typeof b&&b.length){a(b);return}setTimeout(function(){"VisitorAPI"!==l.releaseType&&(l.releaseType="timeout",l.releaseRequests())},this.getLoadTimeout());return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(e){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;p.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var d=w.isPopulatedString,l=this.getMarketingCloudVisitorID();d(this.mid)&&this.mid===l||(this.mid=l);return d(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(d){if(d===Object(d)){var l="",s=[],f=[],a,b;for(a in d)d.hasOwnProperty(a)&&(f[0]=a,b=d[a],b===Object(b)&&(f[1]=b.id||"",f[2]=b.authState||0,s.push(f),f=[]));if(f=s.length)for(d=0;d<f;d++)l+="&d_cid_ic="+u.encodeAndBuildRequest(s[d],"%01");return l}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(d){this.isOptedOut=d;this.isOptedOutCallbackCalled=!0;p.registerRequest()},getLoadTimeout:function(){var d=this.instance;if(d){if("function"===typeof d.getLoadTimeout)return d.getLoadTimeout();if("undefined"!==typeof d.loadTimeout)return d.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(d,l){var s=w.isPopulatedString,f=encodeURIComponent;if(d===Object(d)&&s(l)){var a=d.dpid,b=d.dpuuid,e=null;if(s(a)&&s(b)){e=f(a)+"$"+f(b);if(!0===this.declaredIdCombos[e])return"setDeclaredId: combo exists for type '"+
l+"'";this.declaredIdCombos[e]=!0;this.declaredId[l]={dpid:a,dpuuid:b};return"setDeclaredId: succeeded for type '"+l+"'"}}return"setDeclaredId: failed for type '"+l+"'"},getDeclaredIdQueryString:function(){var d=this.declaredId.request,l=this.declaredId.init,a=encodeURIComponent,f="";null!==d?f="&d_dpid="+a(d.dpid)+"&d_dpuuid="+a(d.dpuuid):null!==l&&(f="&d_dpid="+a(l.dpid)+"&d_dpuuid="+a(l.dpuuid));return f}},registerRequest:function(d){var l=this.firingQueue;d===Object(d)&&l.push(d);this.firing||!l.length||L&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(this.adms.isOptedOutCallbackCalled=!1,d=l.shift(),d.src=d.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid="),w.isPopulatedString(d.corsPostData)&&(d.corsPostData=d.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid=")),D.fireRequest(d),this.firstRequestHasFired||"script"!==d.tag&&"cors"!==d.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(Q||window.Visitor)},requestRemoval:function(d){if(!A)return"removeFinishedScriptsAndCallbacks is not boolean true";var l=this.toRemove,a,f;d===Object(d)&&(a=d.script,f=d.callbackName,(a===Object(a)&&"SCRIPT"===a.nodeName||"no script created"===a)&&"string"===typeof f&&f.length&&l.push(d));if(this.readyToRemove&&l.length){f=l.shift();a=f.script;f=f.callbackName;"no script created"!==a?(d=a.src,a.parentNode.removeChild(a)):d=a;window[f]=null;try{delete window[f]}catch(b){}this.removed.push({scriptSrc:d,callbackName:f});DIL.variables.scriptsRemoved.push(d);DIL.variables.callbacksRemoved.push(f);return this.requestRemoval()}return"requestRemoval() processed"}};h=function(){var d="http://fast.",l="?d_nsid="+k+"#"+encodeURIComponent(document.location.href);if("string"===typeof G&&G.length)return G+l;y.IS_HTTPS&&(d=!0===m?"https://fast.":"https://");return d+g+".demdex.net/dest5.html"+
l};var z={THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:"destination_publishing_iframe_"+g+"_"+k,url:h(),onPagePixels:[],iframeHost:null,getIframeHost:function(d){if("string"===typeof d){var l=d.split("/");if(3<=l.length)return l[0]+"//"+l[2];e.push("getIframeHost: url is malformed: "+d);return d}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:y.POST_MESSAGE_ENABLED?15:100,ibsDeleted:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function d(){f=document.createElement("iframe");f.sandbox="allow-scripts allow-same-origin";f.title="Adobe ID Syncing iFrame";f.id=a.id;f.style.cssText="display: none; width: 0; height: 0;";f.src=a.url;a.newIframeCreated=!0;l();document.body.appendChild(f)}function l(){u.addListener(f,"load",function(){f.className="aamIframeLoaded";a.iframeHasLoaded=!0;a.requestToProcess()})}var a=this,f=document.getElementById(this.id);f?"IFRAME"!==f.nodeName?(this.id+="_2",this.iframeIdChanged=!0,d()):(this.newIframeCreated=!1,"aamIframeLoaded"!==f.className?(this.originalIframeHasLoadedAlready=!1,l()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=f,this.requestToProcess())):d();this.iframe=f},requestToProcess:function(d,l){var a=this;d&&!w.isEmptyObject(d)&&this.jsonWaiting.push([d,l]);if((this.receivedThirdPartyCookiesNotification||!y.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var f=this.jsonWaiting.shift();this.process(f[0],f[1]);this.requestToProcess()}this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=y.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(d){var l,a,f;if((l=d.ibs)&&l instanceof Array&&(a=l.length))for(d=0;d<a;d++)f=l[d],f.syncOnPage&&this.checkFirstPartyCookie(f,"","syncOnPage")},process:function(d,l){var a=encodeURIComponent,f,b,e,c,g,h;l===Object(l)&&(h=u.encodeAndBuildRequest(["",l.dpid||"",l.dpuuid||""],","));if((f=d.dests)&&f instanceof Array&&(b=f.length))for(e=0;e<b;e++)c=f[e],g=[a("dests"),a(c.id||""),a(c.y||""),a(c.c||"")],this.addMessage(g.join("|"));if((f=d.ibs)&&f instanceof Array&&(b=f.length))for(e=0;e<b;e++)c=f[e],g=[a("ibs"),a(c.id||""),a(c.tag||""),u.encodeAndBuildRequest(c.url||[],","),a(c.ttl||""),"",h,c.fireURLSync?"true":"false"],c.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(g.join("|")):c.fireURLSync&&this.checkFirstPartyCookie(c,g.join("|")));if((f=d.dpcalls)&&f instanceof Array&&(b=f.length))for(e=0;e<b;e++)c=f[e],g=c.callback||{},g=[g.obj||"",g.fn||"",g.key||"",g.tag||"",g.url||""],g=[a("dpm"),a(c.id||""),a(c.tag||""),u.encodeAndBuildRequest(c.url||[],","),a(c.ttl||""),u.encodeAndBuildRequest(g,","),h],this.addMessage(g.join("|"));this.jsonProcessed.push(d)},checkFirstPartyCookie:function(d,a,s){var f=(s="syncOnPage"===s?!0:!1)?y.FIRST_PARTY_SYNCS_ON_PAGE:y.FIRST_PARTY_SYNCS,b=this.getOnPageSyncData(f),c=!1,e=!1,g=Math.ceil((new Date).getTime()/y.MILLIS_PER_DAY);b?(b=b.split("*"),e=this.pruneSyncData(b,d.id,g),c=e.dataPresent,e=e.dataValid,c&&e||this.fireSync(s,d,a,b,f,g)):(b=[],this.fireSync(s,d,a,b,f,g))},getOnPageSyncData:function(d){var a=p.adms.instance;return a&&"function"===typeof a.idSyncGetOnPageSyncInfo?a.idSyncGetOnPageSyncInfo():u.getDilCookieField(d)},pruneSyncData:function(d,a,b){var f=!1,e=!1,c,g,h;if(d instanceof Array)for(g=0;g<d.length;g++)c=d[g],h=parseInt(c.split("-")[1],10),c.match("^"+a+"-")?(f=!0,b<h?e=!0:(d.splice(g,1),g--)):b>=h&&(d.splice(g,1),g--);return{dataPresent:f,dataValid:e}},manageSyncsSize:function(d){if(d.join("*").length>this.MAX_SYNCS_LENGTH)for(d.sort(function(d,a){return parseInt(d.split("-")[1],10)-parseInt(a.split("-")[1],10)});d.join("*").length>this.MAX_SYNCS_LENGTH;)d.shift()},fireSync:function(d,a,b,f,e,c){function g(d,a,l,f){return function(){h.onPagePixels[d]=null;var b=h.getOnPageSyncData(l),e=[];if(b){var b=b.split("*"),c,s,g;c=0;for(s=b.length;c<s;c++)g=b[c],g.match("^"+a.id+"-")||e.push(g)}h.setSyncTrackingData(e,a,l,f)}}var h=this;if(d){if("img"===a.tag){d=a.url;b=y.IS_HTTPS?"https:":"http:";var k,n,t;f=0;for(k=d.length;f<k;f++){n=d[f];t=/^\/\//.test(n);var p=new Image;u.addListener(p,"load",g(this.onPagePixels.length,a,e,c));p.src=(t?b:"")+n;this.onPagePixels.push(p)}}}else this.addMessage(b),this.setSyncTrackingData(f,a,e,c)},addMessage:function(d){var a=encodeURIComponent,a=x?a("---destpub-debug---"):a("---destpub---");this.messages.push(a+d)},setSyncTrackingData:function(d,a,b,f){d.push(a.id+"-"+(f+Math.ceil(a.ttl/60/24)));this.manageSyncsSize(d);u.setDilCookieField(b,d.join("*"))},sendMessages:function(){var d=this,a;this.messages.length?(a=this.messages.shift(),DIL.xd.postMessage(a,this.url,this.iframe.contentWindow),this.messagesPosted.push(a),setTimeout(function(){d.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},receiveMessage:function(d){var a=/^---destpub-to-parent---/;"string"===typeof d&&a.test(d)&&(a=d.replace(a,"").split("|"),"canSetThirdPartyCookies"===a[0]&&(this.canSetThirdPartyCookies="true"===a[1]?!0:!1,this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(d))}},K={traits:function(d){w.isValidPdata(d)&&(v.sids instanceof Array||(v.sids=[]),u.extendArray(v.sids,d));return this},pixels:function(d){w.isValidPdata(d)&&(v.pdata instanceof
Array||(v.pdata=[]),u.extendArray(v.pdata,d));return this},logs:function(d){w.isValidLogdata(d)&&(v.logdata!==Object(v.logdata)&&(v.logdata={}),u.extendObject(v.logdata,d));return this},customQueryParams:function(d){w.isEmptyObject(d)||u.extendObject(v,d,p.reservedKeys);return this},signals:function(d,a){var b,f=d;if(!w.isEmptyObject(f)){if(a&&"string"===typeof a)for(b in f={},d)d.hasOwnProperty(b)&&(f[a+b]=d[b]);u.extendObject(v,f,p.reservedKeys)}return this},declaredId:function(d){p.declaredId.setDeclaredId(d,"request");return this},result:function(d){"function"===typeof d&&(v.callback=d);return this},afterResult:function(d){"function"===typeof d&&(v.postCallbackFn=d);return this},useImageRequest:function(){v.useImageRequest=!0;return this},clearData:function(){v={};return this},submit:function(){D.submitRequest(v);v={};return this},getPartner:function(){return g},getContainerNSID:function(){return k},getEventLog:function(){return e},getState:function(){var d={},l={};u.extendObject(d,p,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});u.extendObject(l,z,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{initConfig:a,pendingRequest:v,otherRequestInfo:d,destinationPublishingInfo:l}},idSync:function(d){if(B)return"Error: id syncs have been disabled";if(d!==Object(d)||"string"!==typeof d.dpid||!d.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof d.url||!d.url.length)return"Error: config.url is empty";var a=d.url,b=d.minutesToLive,f=encodeURIComponent,c,a=a.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof b)b=20160;else if(b=parseInt(b,10),isNaN(b)||0>=b)return"Error: config.minutesToLive needs to be a positive number";c=u.encodeAndBuildRequest(["",d.dpid,d.dpuuid||""],",");d=["ibs",f(d.dpid),"img",f(a),b,"",c];z.addMessage(d.join("|"));p.firstRequestHasFired&&z.requestToProcess();return"Successfully queued"},aamIdSync:function(d){if(B)return"Error: id syncs have been disabled";if(d!==Object(d)||"string"!==typeof d.dpuuid||!d.dpuuid.length)return"Error: config or config.dpuuid is empty";d.url="//dpm.demdex.net/ibs:dpid="+d.dpid+"&dpuuid="+d.dpuuid;return this.idSync(d)},passData:function(d){if(w.isEmptyObject(d))return"Error: json is empty or not an object";z.ibsDeleted.push(d.ibs);delete d.ibs;D.defaultCallback(d);return d},getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var d=p,a=d.modStatsParams,b=d.platformParams,f;if(!a){a={};for(f in b)b.hasOwnProperty(f)&&!d.nonModStatsParams[f]&&(a[f.replace(/^d_/,"")]=b[f]);d.modStatsParams=a}return a}},D={corsMetadata:function(){var d="none",a=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?d="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?d="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(a=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(a=!1));return{corsType:d,corsCookiesEnabled:a}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(d){p.registerRequest(D.createQueuedRequest(d));return!0},createQueuedRequest:function(d){var a=p,b,f=d.callback,c="img",e;if(!w.isEmptyObject(r)){var g,h,n;for(g in r)r.hasOwnProperty(g)&&(h=r[g],null!=h&&""!==h&&g in d&&!(h in d||h in p.reservedKeys)&&(n=d[g],null!=n&&""!==n&&(d[h]=n)))}w.isValidPdata(d.sids)||(d.sids=[]);w.isValidPdata(d.pdata)||(d.pdata=[]);w.isValidLogdata(d.logdata)||(d.logdata={});d.logdataArray=u.convertObjectToKeyValuePairs(d.logdata,"=",!0);d.logdataArray.push("_ts="+(new Date).getTime());"function"!==typeof f&&(f=this.defaultCallback);a.useJSONP=!0!==d.useImageRequest;a.useJSONP&&(c="script",b=a.callbackPrefix+"_"+k+"_"+(new Date).getTime());a=this.makeRequestSrcData(d,b);P&&!F||!(e=this.getCORSInstance())||(c="cors");return{tag:c,src:a.src,corsSrc:a.corsSrc,internalCallbackName:b,callbackFn:f,postCallbackFn:d.postCallbackFn,useImageRequest:!!d.useImageRequest,requestData:d,corsInstance:e,corsPostData:a.corsPostData}},defaultCallback:function(d,a){z.processSyncOnPage(d);var b,f,c,e,g,h,k,t,x;if((b=d.stuff)&&b instanceof Array&&(f=b.length))for(c=0;c<f;c++)if((e=b[c])&&e===Object(e)){g=e.cn;h=e.cv;k=e.ttl;if("undefined"===typeof k||""===k)k=Math.floor(u.getMaxCookieExpiresInMinutes()/60/24);t=e.dmn||"."+document.domain.replace(/^www\./,"");x=e.type;g&&(h||"number"===typeof h)&&("var"!==x&&(k=parseInt(k,10))&&!isNaN(k)&&u.setCookie(g,h,1440*k,"/",t,!1),J.stuffed[g]=h)}b=d.uuid;w.isPopulatedString(b)&&!w.isEmptyObject(n)&&(f=n.path,"string"===typeof f&&f.length||(f="/"),c=parseInt(n.days,10),isNaN(c)&&(c=100),u.setCookie(n.name||"aam_did",b,1440*c,f,n.domain||"."+document.domain.replace(/^www\./,""),!0===n.secure));q||p.abortRequests||z.requestToProcess(d,a)},makeRequestSrcData:function(d,a){d.sids=w.removeEmptyArrayValues(d.sids||[]);d.pdata=w.removeEmptyArrayValues(d.pdata||[]);var b=p,f=b.platformParams,c=u.encodeAndBuildRequest(d.sids,","),e=u.encodeAndBuildRequest(d.pdata,","),h=(d.logdataArray||[]).join("&");delete d.logdataArray;var n=y.IS_HTTPS?"https://":"http://",t=b.declaredId.getDeclaredIdQueryString(),x=b.adms.instance?b.adms.getCustomerIDsQueryString(b.adms.getCustomerIDs()):"",m;m=[];var r,q,v,A;for(r in d)if(!(r in b.reservedKeys)&&d.hasOwnProperty(r))if(q=d[r],r=encodeURIComponent(r),q instanceof Array)for(v=0,A=q.length;v<A;v++)m.push(r+"="+encodeURIComponent(q[v]));else m.push(r+"="+encodeURIComponent(q));m=m.length?"&"+m.join("&"):"";c="d_nsid="+f.d_nsid+
t+x+(c.length?"&d_sid="+c:"")+(e.length?"&d_px="+e:"")+(h.length?"&d_ld="+encodeURIComponent(h):"");f="&d_rtbd="+f.d_rtbd+"&d_jsonv="+f.d_jsonv+"&d_dst="+f.d_dst;n=n+g+".demdex.net/event";e=b=n+"?"+c+(b.useJSONP?f+"&d_cb="+(a||""):"")+m;2048<b.length&&(b=b.substring(0,2048).substring(0,b.lastIndexOf("&")));return{corsSrc:n+"?"+(O?"testcors=1&d_nsid="+k+"&":"")+"_ts="+(new Date).getTime(),src:b,originalSrc:e,corsPostData:c+f+m,isDeclaredIdCall:""!==t}},fireRequest:function(d){if("img"===d.tag)this.fireImage(d);else{var a=p.declaredId,a=a.declaredId.request||a.declaredId.init||{},a={dpid:a.dpid||"",dpuuid:a.dpuuid||""};"script"===d.tag?this.fireScript(d,a):"cors"===d.tag&&this.fireCORS(d,a)}},fireImage:function(d){var a=p,c,f;a.abortRequests||(a.firing=!0,c=new Image(0,0),a.sent.push(d),c.onload=function(){a.firing=!1;a.fired.push(d);a.num_of_img_responses++;a.registerRequest()},f=function(f){b="imgAbortOrErrorHandler received the event of type "+f.type;e.push(b);a.abortRequests=!0;a.firing=!1;a.errored.push(d);a.num_of_img_errors++;a.registerRequest()},c.addEventListener?(c.addEventListener("error",f,!1),c.addEventListener("abort",f,!1)):c.attachEvent&&(c.attachEvent("onerror",f),c.attachEvent("onabort",f)),c.src=d.src)},fireScript:function(d,a){var c=this,f=p,h,k,n=d.src,t=d.postCallbackFn,m="function"===typeof t,r=d.internalCallbackName;f.abortRequests||(f.firing=!0,window[r]=function(c){try{c!==Object(c)&&(c={});B&&(z.ibsDeleted.push(c.ibs),delete c.ibs);var h=d.callbackFn;f.firing=!1;f.fired.push(d);f.num_of_jsonp_responses++;h(c,a);m&&t(c,a)}catch(s){s.message="DIL jsonp callback caught error with message "+s.message;b=s.message;e.push(b);s.filename=s.filename||"dil.js";s.partner=g;DIL.errorModule.handleError(s);try{h({error:s.name+"|"+s.message},a),m&&t({error:s.name+"|"+s.message},a)}catch(n){}}finally{f.requestRemoval({script:k,callbackName:r}),f.registerRequest()}},M||F?(f.firing=!1,f.requestRemoval({script:"no script created",callbackName:r})):(k=document.createElement("script"),k.addEventListener&&k.addEventListener("error",function(a){f.requestRemoval({script:k,callbackName:r});b="jsonp script tag error listener received the event of type "+a.type+" with src "+n;c.handleScriptError(b,d)},!1),k.type="text/javascript",k.src=n,h=DIL.variables.scriptNodeList[0],h.parentNode.insertBefore(k,h)),f.sent.push(d),f.declaredId.declaredId.request=null)},fireCORS:function(d,a){var c=this,f=p,h=this.corsMetadata.corsType,k=d.corsSrc,n=d.corsInstance,t=d.corsPostData,r=d.postCallbackFn,m="function"===typeof r;if(!f.abortRequests&&!R){f.firing=!0;try{n.open("post",k,!0),"XMLHttpRequest"===h&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var h;try{if(h=JSON.parse(this.responseText),h!==Object(h)){c.handleCORSError(d,a,"Response is not JSON");break a}}catch(k){c.handleCORSError(d,a,"Error parsing response as JSON");break a}B&&(z.ibsDeleted.push(h.ibs),delete h.ibs);try{var n=d.callbackFn;f.firing=!1;f.fired.push(d);f.num_of_cors_responses++;n(h,a);m&&r(h,a)}catch(t){t.message="DIL handleCORSResponse caught error with message "+t.message;b=t.message;e.push(b);t.filename=t.filename||"dil.js";t.partner=g;DIL.errorModule.handleError(t);try{n({error:t.name+"|"+t.message},a),m&&r({error:t.name+"|"+t.message},a)}catch(x){}}finally{f.registerRequest()}}}),n.onerror=function(){c.handleCORSError(d,a,"onerror")},n.ontimeout=function(){c.handleCORSError(d,a,"ontimeout")},n.send(t)}catch(x){this.handleCORSError(d,a,"try-catch")}f.sent.push(d);f.declaredId.declaredId.request=null}},handleCORSError:function(d,a,b){p.num_of_cors_errors++;p.corsErrorSources.push(b);"ontimeout"===b||F||(d.tag="script",this.fireScript(d,a))},handleScriptError:function(d,a){p.num_of_jsonp_errors++;this.handleRequestError(d,a)},handleRequestError:function(d,a){var b=p;e.push(d);b.abortRequests=!0;b.firing=!1;b.errored.push(a);b.registerRequest()}},w={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeEmptyArrayValues:function(a){for(var b=0,c=a.length,f,e=[],b=0;b<c;b++)f=a[b],"undefined"!==typeof f&&null!==f&&""!==f&&e.push(f);return e},isPopulatedString:function(a){return"string"===typeof a&&a.length}},u={addListener:function(){if(document.addEventListener)return function(a,b,c){a.addEventListener(b,function(a){"function"===typeof c&&c(a)},!1)};if(document.attachEvent)return function(a,b,c){a.attachEvent("on"+b,function(a){"function"===typeof c&&c(a)})}}(),convertObjectToKeyValuePairs:function(a,b,c){var f=[],e,g;b||(b="=");for(e in a)a.hasOwnProperty(e)&&(g=a[e],"undefined"!==typeof g&&null!==g&&""!==g&&f.push(e+b+(c?encodeURIComponent(g):g)));return f},encodeAndBuildRequest:function(a,b){return this.map(a,function(a){return encodeURIComponent(a)}).join(b)},map:function(a,b){if(Array.prototype.map)return a.map(b);if(void 0===a||null===a)throw new TypeError;var c=Object(a),f=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var e=Array(f),g=0;g<f;g++)g in c&&(e[g]=b.call(b,c[g],g,c));return e},filter:function(a,b){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var c=Object(a),f=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var e=[],g=0;g<f;g++)if(g in c){var h=c[g];b.call(b,h,g,c)&&e.push(h)}return e}return a.filter(b)},getCookie:function(a){a+="=";var b=document.cookie.split(";"),c,f,e;c=0;for(f=b.length;c<f;c++){for(e=b[c];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return decodeURIComponent(e.substring(a.length,e.length))}return null},setCookie:function(a,b,c,f,e,g){var h=new Date;c&&(c*=6E4);document.cookie=a+"="+encodeURIComponent(b)+(c?";expires="+(new Date(h.getTime()+c)).toUTCString():"")+(f?";path="+f:"")+(e?";domain="+e:"")+(g?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,b,c){var f;if(a===Object(a)&&b===Object(b)){for(f in b)!b.hasOwnProperty(f)||!w.isEmptyObject(c)&&f in c||(a[f]=b[f]);return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(y.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60},getCookieField:function(a,b){var c=this.getCookie(a),f=decodeURIComponent;if("string"===typeof c){var c=c.split("|"),e,g;e=0;for(g=c.length-1;e<g;e++)if(f(c[e])===b)return f(c[e+1])}return null},getDilCookieField:function(a){return this.getCookieField(y.DIL_COOKIE_NAME,a)},setCookieField:function(a,b,c){var e=this.getCookie(a),g=!1,h=encodeURIComponent;b=h(b);c=h(c);if("string"===typeof e){var e=e.split("|"),k,h=0;for(k=e.length-1;h<k;h++)if(e[h]===b){e[h+1]=c;g=!0;break}g||(h=e.length,e[h]=b,e[h+1]=c)}else e=[b,c];this.setCookie(a,e.join("|"),this.getMaxCookieExpiresInMinutes(),"/",this.getDomain(),!1)},setDilCookieField:function(a,b){return this.setCookieField(y.DIL_COOKIE_NAME,a,b)},getDomain:function(a){!a&&window.location&&(a=window.location.hostname);if(a)if(/^[0-9.]+$/.test(a))a="";else{var b=a.split("."),c=b.length-1,e=c-1;1<c&&2>=b[c].length&&(2===b[c-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+b[c]+","))&&e--;if(0<e)for(a="";c>=e;)a=b[c]+(a?".":"")+a,c--}return a}};"error"===g&&0===k&&u.addListener(window,"load",function(){DIL.windowLoaded=!0});var S=!1,H=function(){S||(S=!0,p.registerRequest(),U(),q||p.abortRequests||z.attachIframe(),p.readyToRemove=!0,p.requestRemoval())},U=function(){q||setTimeout(function(){N||p.firstRequestHasFired||("function"===typeof I?K.afterResult(I).submit():K.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};C=document;"error"!==g&&(DIL.windowLoaded?H():"complete"!==C.readyState&&"loaded"!==C.readyState?u.addListener(window,"load",function(){DIL.windowLoaded=!0;H()}):(DIL.windowLoaded=!0,H()));if("error"!==g)try{DIL.xd.receiveMessage(function(a){z.receiveMessage(a.data)},z.getIframeHost(z.url))}catch(V){}p.declaredId.setDeclaredId(t,"init");p.processVisitorAPI();this.api=K;this.getStuffedVariable=function(a){var b=J.stuffed[a];b||"number"===typeof b||(b=u.getCookie(a))||"number"===typeof b||(b="");return b};this.validators=w;this.helpers=u;this.constants=y;this.log=e;T&&(this.pendingRequest=v,this.requestController=p,this.setDestinationPublishingUrl=h,this.destinationPublishing=z,this.requestProcs=D,this.variables=J,this.callWindowLoadFunctions=H)},function(){var a=document,c;null==a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",c=function(){a.removeEventListener("DOMContentLoaded",c,!1);a.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(a){var c;if(a===Object(a))for(c in a)a.hasOwnProperty(c)&&(this[c]=a[c])},DIL.extendStaticPropertiesAndMethods({version:"6.9",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(a){this.windowLoaded="function"===typeof a?!!a():"boolean"===typeof a?a:!0},create:function(a){try{return new DIL(a)}catch(c){throw Error("Error in attempt to create DIL instance with DIL.create(): "+
c.message);}},registerDil:function(a,c,e){c=c+"$"+e;c in this.dils||(this.dils[c]=a)},getDil:function(a,c){var e;"string"!==typeof a&&(a="");c||(c=0);e=a+"$"+c;return e in this.dils?this.dils[e]:Error("The DIL instance with partner = "+a+" and containerNSID = "+c+" was not found")},dexGetQSVars:function(a,c,e){c=this.getDil(c,e);return c instanceof this?c.getStuffedVariable(a):""},xd:{postMessage:function(a,c,e){var b=1;c&&(window.postMessage?e.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(e.location=c.replace(/#.*$/,"")+"#"+ +new Date+b++ +"&"+a))},receiveMessage:function(a,c){var e;try{if(window.postMessage)if(a&&(e=function(b){if("string"===typeof c&&b.origin!==c||"[object Function]"===Object.prototype.toString.call(c)&&!1===c(b.origin))return!1;a(b)}),window.addEventListener)window[a?"addEventListener":"removeEventListener"]("message",e,!1);else window[a?"attachEvent":"detachEvent"]("onmessage",e)}catch(b){}}}}),DIL.errorModule=function(){var a=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),c={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},e=!1;return{activate:function(){e=!0},handleError:function(b){if(!e)return"DIL error module has not been activated";b!==Object(b)&&(b={});var h=b.name?(b.name+"").toLowerCase():"",g=[];b={name:h,filename:b.filename?b.filename+"":"",partner:b.partner?b.partner+"":"no_partner",site:b.site?b.site+"":document.location.href,message:b.message?b.message+"":""};g.push(h in c?c[h]:c.noerrortypedefined);a.api.pixels(g).logs(b).useImageRequest().submit();return"DIL error report sent"},pixelMap:c}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(a,c,e){var b="";c=c||"Error caught in DIL module/submodule: ";a===Object(a)?b=c+(a.message||"err has no message"):(b=c+"err is not a valid object",a={});a.message=b;e instanceof DIL&&(a.partner=e.api.getPartner());DIL.errorModule.handleError(a);return this.errorMessage=b}}});DIL.tools.getSearchReferrer=function(a,c){var e=DIL.getDil("error"),b=DIL.tools.decomposeURI(a||document.referrer),h="",g="",k={queryParam:"q"};return(h=e.helpers.filter([c===Object(c)?c:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(a){return!(!a.hasOwnProperty("hostPattern")||!b.hostname.match(a.hostPattern))}).shift())?{valid:!0,name:b.hostname,keywords:(e.helpers.extendObject(k,h),g=k.queryPattern?(h=(""+b.search).match(k.queryPattern))?h[1]:"":b.uriParams[k.queryParam],decodeURIComponent(g||"").replace(/\+|%20/g," "))}:{valid:!1,name:"",keywords:""}};DIL.tools.decomposeURI=function(a){var c=DIL.getDil("error"),e=document.createElement("a");e.href=a||document.referrer;return{hash:e.hash,host:e.host.split(":").shift(),hostname:e.hostname,href:e.href,pathname:e.pathname.replace(/^\//,""),protocol:e.protocol,search:e.search,uriParams:function(a,e){c.helpers.map(e.split("&"),function(c){c=c.split("=");a[c.shift()]=c.shift()});return a}({},e.search.replace(/^(\/|\?)?|\/$/g,""))}};DIL.tools.getMetaTags=function(){var a={},c=document.getElementsByTagName("meta"),e,b,h,g,k;e=0;for(h=arguments.length;e<h;e++)if(g=arguments[e],null!==g)for(b=0;b<c.length;b++)if(k=c[b],k.name===g){a[g]=k.content;break}return a};DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e,b){try{var h=this,g={name:"DIL Site Catalyst Module Error"},k=function(a){g.message=a;DIL.errorModule.handleError(g);return a};this.options=b===Object(b)?b:{};this.dil=null;if(c instanceof DIL)this.dil=c;else return k("dilInstance is not a valid instance of DIL");g.partner=c.api.getPartner();if(a!==Object(a))return k("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=a.m_DIL=function(a){var b="function"===typeof a.m_i?a.m_i("DIL"):this;if(b!==Object(b))return k("m is not an object");b.trackVars=h.constructTrackVars(e);b.d=0;b.s=a;b._t=function(){var a,b,c=","+this.trackVars+",",e=this.s,g,r=[];g=[];var m={},q=!1;if(e!==Object(e))return k("Error in m._t function: s is not an object");if(this.d){if("function"===typeof e.foreachVar)e.foreachVar(function(a,b){"undefined"!==typeof b&&(m[a]=b,q=!0)},this.trackVars);else{if(!(e.va_t instanceof Array))return k("Error in m._t function: s.va_t is not an array");if(e.lightProfileID)(a=e.lightTrackVars)&&(a=","+a+","+e.vl_mr+",");else if(e.pe||e.linkType)a=e.linkTrackVars,e.pe&&(b=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[b]&&(a=e[b].trackVars)),a&&(a=","+a+","+e.vl_l+","+e.vl_l2+",");if(a){b=0;for(r=a.split(",");b<r.length;b++)0<=c.indexOf(","+r[b]+",")&&g.push(r[b]);g.length&&(c=","+g.join(",")+",")}g=0;for(b=e.va_t.length;g<b;g++)a=e.va_t[g],0<=c.indexOf(","+a+",")&&"undefined"!==typeof e[a]&&null!==e[a]&&""!==e[a]&&(m[a]=e[a],q=!0)}h.includeContextData(e,m).store_populated&&(q=!0);q&&this.d.api.signals(m,"c_").submit()}}};a.loadModule("DIL");a.DIL.d=c;return g.message?g.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(q){return this.handle(q,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(a){var c=[],e,b,h,g,k;if(a===Object(a)){e=a.names;if(e instanceof Array&&(h=e.length))for(b=0;b<h;b++)g=e[b],"string"===typeof g&&g.length&&c.push(g);a=a.iteratedNames;if(a instanceof Array&&(h=a.length))for(b=0;b<h;b++)if(e=a[b],e===Object(e)&&(g=e.name,k=parseInt(e.maxIndex,10),"string"===typeof g&&g.length&&!isNaN(k)&&0<=k))for(e=0;e<=k;e++)c.push(g+e);if(c.length)return c.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(a,c){var e={},b=!1;if(a.contextData===Object(a.contextData)){var h=a.contextData,g=this.options.replaceContextDataPeriodsWith,k=this.options.filterFromContextVariables,q={},m,r,n,x;"string"===typeof g&&g.length||(g="_");if(k instanceof Array)for(m=0,r=k.length;m<r;m++)n=k[m],this.dil.validators.isPopulatedString(n)&&(q[n]=!0);for(x in h)!h.hasOwnProperty(x)||q[x]||!(k=h[x])&&"number"!==typeof k||(x=("contextData."+x).replace(/\./g,g),c[x]=k,b=!0)}e.store_populated=b;return e}};DIL.modules.GA={submitUniversalAnalytics:function(a,c,e){try{var b=a.getAll()[0],h=b[e||"b"].data.keys;a={};var g,k,q,m;g=0;for(k=h.length;g<k;g++)q=h[g],m=b.get(q),"undefined"===typeof m||"function"===typeof m||m===Object(m)||/^_/.test(q)||/^&/.test(q)||(a[q]=m);c.api.signals(a,"c_").submit();return a}catch(r){return"Caught error with message: "+r.message}},dil:null,arr:null,tv:null,errorMessage:"",defaultTrackVars:["_setAccount","_setCustomVar","_addItem","_addTrans","_trackSocial"],defaultTrackVarsObj:null,signals:{},hasSignals:!1,handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e){try{this.tv=this.arr=this.dil=null;this.errorMessage="";this.signals={};this.hasSignals=!1;var b={name:"DIL GA Module Error"},h="";c instanceof DIL?(this.dil=c,b.partner=this.dil.api.getPartner()):(h="dilInstance is not a valid instance of DIL",b.message=h,DIL.errorModule.handleError(b));a instanceof Array&&a.length?this.arr=a:(h="gaArray is not an array or is empty",b.message=h,DIL.errorModule.handleError(b));this.tv=this.constructTrackVars(e);this.errorMessage=h}catch(g){this.handle(g,"DIL.modules.GA.init() caught error with message ",this.dil)}finally{return this}},constructTrackVars:function(a){var c=[],e,b,h,g;if(this.defaultTrackVarsObj!==Object(this.defaultTrackVarsObj)){h=this.defaultTrackVars;g={};e=0;for(b=h.length;e<b;e++)g[h[e]]=!0;this.defaultTrackVarsObj=g}else g=this.defaultTrackVarsObj;if(a===Object(a)){a=a.names;if(a instanceof Array&&(b=a.length))for(e=0;e<b;e++)h=a[e],"string"===typeof h&&h.length&&h in g&&c.push(h);if(c.length)return c}return this.defaultTrackVars},constructGAObj:function(a){var c={};a=a instanceof Array?a:this.arr;var e,b,h,g;e=0;for(b=a.length;e<b;e++)h=a[e],h instanceof Array&&h.length&&(h=[],g=a[e],h instanceof Array&&g instanceof Array&&Array.prototype.push.apply(h,g),g=h.shift(),"string"===typeof g&&g.length&&(c[g]instanceof Array||(c[g]=[]),c[g].push(h)));return c},addToSignals:function(a,c){if("string"!==typeof a||""===a||null==c||""===c)return!1;this.signals[a]instanceof
Array||(this.signals[a]=[]);this.signals[a].push(c);return this.hasSignals=!0},constructSignals:function(){var a=this.constructGAObj(),c={_setAccount:function(a){this.addToSignals("c_accountId",a)},_setCustomVar:function(a,b,c){"string"===typeof b&&b.length&&this.addToSignals("c_"+b,c)},_addItem:function(a,b,c,e,g,h){this.addToSignals("c_itemOrderId",a);this.addToSignals("c_itemSku",b);this.addToSignals("c_itemName",c);this.addToSignals("c_itemCategory",e);this.addToSignals("c_itemPrice",g);this.addToSignals("c_itemQuantity",h)},_addTrans:function(a,b,c,e,g,h,k,m){this.addToSignals("c_transOrderId",a);this.addToSignals("c_transAffiliation",b);this.addToSignals("c_transTotal",c);this.addToSignals("c_transTax",e);this.addToSignals("c_transShipping",g);this.addToSignals("c_transCity",h);this.addToSignals("c_transState",k);this.addToSignals("c_transCountry",m)},_trackSocial:function(a,b,c,e){this.addToSignals("c_socialNetwork",a);this.addToSignals("c_socialAction",b);this.addToSignals("c_socialTarget",c);this.addToSignals("c_socialPagePath",e)}},e=this.tv,b,h,g,k,q,m;b=0;for(h=e.length;b<h;b++)if(g=e[b],a.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(m=a[g],m instanceof Array))for(k=0,q=m.length;k<q;k++)c[g].apply(this,m[k])},submit:function(){try{if(""!==this.errorMessage)return this.errorMessage;this.constructSignals();return this.hasSignals?(this.dil.api.signals(this.signals).submit(),"Signals sent: "+this.dil.helpers.convertObjectToKeyValuePairs(this.signals,"=",!0)+this.dil.log):"No signals present"}catch(a){return this.handle(a,"DIL.modules.GA.submit() caught error with message ",this.dil)}},Stuffer:{LIMIT:5,dil:null,cookieName:null,delimiter:null,errorMessage:"",handle:DIL.modules.helpers.handleModuleError,callback:null,v:function(){return!1},init:function(a,c,e){try{this.callback=this.dil=null,this.errorMessage="",a instanceof DIL?(this.dil=a,this.v=this.dil.validators.isPopulatedString,this.cookieName=this.v(c)?c:"aam_ga",this.delimiter=this.v(e)?e:"|"):this.handle({message:"dilInstance is not a valid instance of DIL"},"DIL.modules.GA.Stuffer.init() error: ")}catch(b){this.handle(b,"DIL.modules.GA.Stuffer.init() caught error with message ",this.dil)}finally{return this}},process:function(a){var c,e,b,h,g,k;k=!1;var q=1;if(a===Object(a)&&(c=a.stuff)&&c instanceof Array&&(e=c.length))for(a=0;a<e;a++)if((b=c[a])&&b===Object(b)&&(h=b.cn,g=b.cv,h===this.cookieName&&this.v(g))){k=!0;break}if(k){c=g.split(this.delimiter);"undefined"===typeof window._gaq&&(window._gaq=[]);b=window._gaq;a=0;for(e=c.length;a<e&&!(k=c[a].split("="),g=k[0],k=k[1],this.v(g)&&this.v(k)&&b.push(["_setCustomVar",q++,g,k,1]),q>this.LIMIT);a++);this.errorMessage=1<q?"No errors - stuffing successful":"No valid values to stuff"}else this.errorMessage="Cookie name and value not found in json";if("function"===typeof this.callback)return this.callback()},submit:function(){try{var a=this;if(""!==this.errorMessage)return this.errorMessage;this.dil.api.afterResult(function(c){a.process(c)}).submit();return"DIL.modules.GA.Stuffer.submit() successful"}catch(c){return this.handle(c,"DIL.modules.GA.Stuffer.submit() caught error with message ",this.dil)}}}};DIL.modules.Peer39={aid:"",dil:null,optionals:null,errorMessage:"",calledBack:!1,script:null,scriptsSent:[],returnedData:[],handle:DIL.modules.helpers.handleModuleError,init:function(a,c,e){try{this.dil=null;this.errorMessage="";this.calledBack=!1;this.optionals=e===Object(e)?e:{};e={name:"DIL Peer39 Module Error"};var b=[],h="";this.isSecurePageButNotEnabled(document.location.protocol)&&(h="Module has not been enabled for a secure page",b.push(h),e.message=h,DIL.errorModule.handleError(e));c instanceof
DIL?(this.dil=c,e.partner=this.dil.api.getPartner()):(h="dilInstance is not a valid instance of DIL",b.push(h),e.message=h,DIL.errorModule.handleError(e));"string"===typeof a&&a.length?this.aid=a:(h="aid is not a string or is empty",b.push(h),e.message=h,DIL.errorModule.handleError(e));this.errorMessage=b.join("\n")}catch(g){this.handle(g,"DIL.modules.Peer39.init() caught error with message ",this.dil)}finally{return this}},isSecurePageButNotEnabled:function(a){return"https:"===a&&!0!==this.optionals.enableHTTPS?!0:!1},constructSignals:function(){var a=this,c=this.constructScript(),e=DIL.variables.scriptNodeList[0];window["afterFinished_"+this.aid]=function(){try{var b=a.processData(p39_KVP_Short("c_p","|").split("|"));b.hasSignals&&a.dil.api.signals(b.signals).submit()}catch(c){}finally{a.calledBack=!0,"function"===typeof a.optionals.afterResult&&a.optionals.afterResult()}};e.parentNode.insertBefore(c,e);this.scriptsSent.push(c);return"Request sent to Peer39"},processData:function(a){var c,e,b,h,g={},k=!1;this.returnedData.push(a);if(a instanceof Array)for(c=0,e=a.length;c<e;c++)b=a[c].split("="),h=b[0],b=b[1],h&&isFinite(b)&&!isNaN(parseInt(b,10))&&(g[h]instanceof Array||(g[h]=[]),g[h].push(b),k=!0);return{hasSignals:k,signals:g}},constructScript:function(){var a=document.createElement("script"),c=this.optionals,e=c.scriptId,b=c.scriptSrc,c=c.scriptParams;a.id="string"===typeof e&&e.length?e:"peer39ScriptLoader";a.type="text/javascript";"string"===typeof b&&b.length?a.src=b:(a.src=document.location.protocol+
"//stags.peer39.net/"+this.aid+"/trg_"+this.aid+".js","string"===typeof c&&c.length&&(a.src+="?"+c));return a},submit:function(){try{return""!==this.errorMessage?this.errorMessage:this.constructSignals()}catch(a){return this.handle(a,"DIL.modules.Peer39.submit() caught error with message ",this.dil)}}};function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,n;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<b.length&&(c=b[n++]);)if(-1<a.indexOf(c))return null;p=1;return a}function q(a,d,b,c,e){var g,h;if(a.dataset&&(h=a.dataset[d]))g=h;else if(a.getAttribute)if(h=a.getAttribute("data-"+b))g=h;else if(h=a.getAttribute(b))g=h;if(!g&&f.useForcedLinkTracking&&e&&(g="",d=a.onclick?""+a.onclick:"")){b=d.indexOf(c);var l,k;if(0<=b){for(b+=10;b<d.length&&0<="= \t\r\n".indexOf(d.charAt(b));)b++;if(b<d.length){h=b;for(l=k=0;h<d.length&&(";"!=d.charAt(h)||l);)l?d.charAt(h)!=l||k?k="\\"==d.charAt(h)?!k:0:l=0:(l=d.charAt(h),'"'!=l&&"'"!=l&&(l=0)),h++;if(d=d.substring(b,h))a.e=new Function("s","var e;try{s.w."+c+"="+d+"}catch(e){}"),a.e(f)}}}return g||e&&f.w[c]}function r(a,d,b){var c;return(c=e[d](a,b))&&(p?(p=0,c):g(k(c),e[d+"Exclusions"]))}function s(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&t[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==(""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)s(c[a],d,b)}function k(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var m=window;m.s_c_in||(m.s_c_il=[],m.s_c_in=0);e._il=m.s_c_il;e._in=m.s_c_in;e._il[e._in]=e;m.s_c_in++;e._c="s_m";e.c={};var p=0,t={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=r(e,"link",f.linkName))&&(b=r(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(k(d),e.linkExclusions);else if((b=a)&&!(b=q(a,"sObjectId","s-object-id","s_objectID",1))){var c,f;(f=g(k(a.innerText||a.textContent),e.linkExclusions))||(s(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(k(c.join(""))))||(f=g(k(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(k(a.value)):"IMAGE"==c&&a.src&&(f=g(k(a.src)))));b=f}return b};e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=q(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}
function AppMeasurement(r){var a=this;a.version="2.10.0";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var p=k.AppMeasurement.Nb;p||(p=null);var n=k,m,s;try{for(m=n.parent,s=n.location;m&&m.location&&s&&""+m.location!=""+s&&n.location&&""+m.location!=""+n.location&&m.location.host==s.host;)n=m,m=n.parent}catch(u){}a.D=function(a){try{console.log(a)}catch(b){}};a.Ha=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.ub=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.za&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.za=0<d?c.substring(d):c}return a.za};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.ub(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toUTCString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.rb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.gb(a,function(){}))};a.gb=function(a,b){for(var d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&(a[d]=b)};a.L=[];a.ba=function(c,b,d){if(a.Aa)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ca)for(a.ca=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ca=0,a.delayReady())});f=1;e=0}else d||a.o("_d")&&(f=1);f&&(a.L.push({m:c,a:b,t:e}),a.ca||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.o("_d")?b=1:a.ra();0<a.L.length;){d=a.L.shift();if(b&&!d.t&&d.t>c){a.L.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Aa=1;a[d.m].apply(a,d.a);a.Aa=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ba("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,h="";e=f="";if(a.lightProfileID)d=a.P,(h=a.lightTrackVars)&&(h=","+h+","+a.ga.join(",")+",");else{d=a.g;if(a.pe||a.linkType)h=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(h=a[e].Lb,f=a[e].Kb));h&&(h=","+h+","+a.G.join(",")+",");f&&h&&(h+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!h||0<=h.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.q=function(c,b,d,f,e){var g="",h,l,k,q,m=0;"contextData"==c&&(c="c");if(b){for(h in b)if(!(Object.prototype[h]||e&&h.substring(0,e.length)!=e)&&b[h]&&(!d||0<=d.indexOf(","+(f?f+".":"")+h+","))){k=!1;if(m)for(l=0;l<m.length;l++)h.substring(0,m[l].length)==m[l]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),l=b[h],e&&(h=h.substring(e.length)),0<h.length))if(k=h.indexOf("."),0<k)l=h.substring(0,k),k=(e?e:"")+l+".",m||(m=[]),m.push(k),g+=a.q(l,b,d,f,k);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(k=h.substring(0,4),q=h.substring(4),h){case"transactionID":h="xact";break;case"channel":h="ch";break;case"campaign":h="v0";break;default:a.Ha(q)&&("prop"==k?h="c"+q:"eVar"==k?h="v"+q:"list"==k?h="l"+q:"hier"==k&&(h="h"+q,l=l.substring(0,255)))}g+="&"+a.escape(h)+"="+a.escape(l)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.xb=function(){var c="",b,d,f,e,g,h,l,k,q="",m="",n=e="";if(a.lightProfileID)b=a.P,(q=a.lightTrackVars)&&(q=","+q+","+a.ga.join(",")+
",");else{b=a.g;if(a.pe||a.linkType)q=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(q=a[e].Lb,m=a[e].Kb));q&&(q=","+q+","+a.G.join(",")+",");m&&(m=","+m+",",q&&(q+=",events,"));a.events2&&(n+=(""!=n?",":"")+a.events2)}if(a.visitor&&a.visitor.getCustomerIDs){e=p;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.q("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.q("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);h=e.substring(4);g||("events"==e&&n?(g=n,n=""):"marketingCloudOrgID"==e&&a.visitor&&(g=a.visitor.marketingCloudOrgID));if(g&&(!q||0<=q.indexOf(","+e+","))){switch(e){case"customerPerspective":e="cp";break;case"marketingCloudOrgID":e="mcorgid";break;case"supplementalDataID":e="sdid";break;case"timestamp":e="ts";break;case"dynamicVariablePrefix":e="D";break;case"visitorID":e="vid";break;case"marketingCloudVisitorID":e="mid";break;case"analyticsVisitorID":e="aid";break;case"audienceManagerLocationHint":e="aamlh";break;case"audienceManagerBlob":e="aamb";break;case"authState":e="as";break;case"pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case"pageURLRest":e="-g";break;case"referrer":e="r";break;case"vmk":case"visitorMigrationKey":e="vmt";break;case"visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case"visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case"charSet":e="ce";break;case"visitorNamespace":e="ns";break;case"cookieDomainPeriods":e="cdp";break;case"cookieLifetime":e="cl";break;case"variableProvider":e="vvp";break;case"currencyCode":e="cc";break;case"channel":e="ch";break;case"transactionID":e="xact";break;case"campaign":e="v0";break;case"latitude":e="lat";break;case"longitude":e="lon";break;case"resolution":e="s";break;case"colorDepth":e="c";break;case"javascriptVersion":e="j";break;case"javaEnabled":e="v";break;case"cookiesEnabled":e="k";break;case"browserWidth":e="bw";break;case"browserHeight":e="bh";break;case"connectionType":e="ct";break;case"homepage":e="hp";break;case"events":n&&(g+=(""!=g?",":"")+n);if(m)for(h=g.split(","),g="",f=0;f<h.length;f++)l=h[f],k=l.indexOf("="),0<=k&&(l=l.substring(0,k)),k=l.indexOf(":"),0<=k&&(l=l.substring(0,k)),0<=m.indexOf(","+l+",")&&(g+=(g?",":"")+h[f]);break;case"events2":g="";break;case"contextData":c+=a.q("c",a[e],q,e);g="";break;case"lightProfileID":e="mtp";break;case"lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case"lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case"retrieveLightProfiles":e="mtsr";break;case"deleteLightProfiles":e="mtsd";break;case"retrieveLightData":a.retrieveLightProfiles&&(c+=a.q("mts",a[e],q,e));g="";break;default:a.Ha(h)&&("prop"==f?e="c"+h:"eVar"==f?e="v"+h:"list"==f?e="l"+h:"hier"==f&&(e="h"+h,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.fa&&(c+="&lrt="+a.fa,a.fa=null);return c};a.C=function(a){var b=a.tagName;if("undefined"!=""+a.Qb||"undefined"!=""+a.Gb&&"HTML"!=(""+a.Gb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Da=function(a){var b=k.location,d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.M=function(c){var b=a.C(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+
f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Da(c),e)?{id:e.substring(0,100),type:g}:0};a.Ob=function(c){for(var b=a.C(c),d=a.M(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.C(c),d=a.M(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Fb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,h;a.ha=1;d||(a.ha=0,d=a.clickObject);if(d){c=a.C(d);for(b=a.M(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.C(d),b=a.M(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.ha=1;!e&&d&&(e=a.Da(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,q=0,n;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),h=l.indexOf("#"),0<=g?0<=h&&h<g&&(g=h):g=h,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),h=0;h<g.length;h++)(n=g[h])&&l.substring(l.length-(n.length+1))=="."+n&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Ga(l)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(h=0;h<g.length;h++)n=g[h],0<=l.indexOf(n)&&(q=1);q?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.yb=function(){var c=a.ha,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Bb()){var b={},d=0,e=a.cookieRead("s_sq"),g=e?e.split("&"):0,h,l,k,e=0;if(g)for(h=0;h<g.length;h++)l=g[h].split("="),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");h={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(h[k]=a.contextData[k],a.contextData[k]="");a.e=a.q("c",h)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(k=0;k<f.length;k++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("&"!=l.charAt(0)?"&":"")+l,b[l]=[],d=1)),h=0;h<b[l].length;h++)g=b[l][h],g==f[k]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=l.charAt(0)?"&":"")+l+"&u=0"),b[l].splice(h,1),d=1);c||(d=1);if(d){e="";h=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),h=1);for(l in b)!Object.prototype[l]&&0<h&&0<b[l].length&&(e+=(e?"&":"")+a.escape(b[l].join(","))+"="+
a.escape(l),h--);a.cookieWrite("s_sq",e)}}}return c};a.zb=function(){if(!a.Jb){var c=new Date,b=n.location,d,f,e=f=d="",g="",h="",l="1.2",k=a.cookieWrite("s_cc","true",0)?"Y":"N",m="",p="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;h=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),m=a.b.Pb(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),p=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=k;a.browserWidth=g;a.browserHeight=h;a.connectionType=p;a.homepage=m;a.Jb=1}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.Q[c]=a[c]=d;d.ab=function(){return d.fb};d.hb=function(b){if(d.fb=b)a[c+"_onLoad"]=b,a.ba(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.ab,set:d.hb}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.ba(c+"_onLoad",[a,d],1)||b(a,d))};a.o=function(c){var b,d;for(b in a.Q)if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Bb=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Cb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.R=function(c,b){var d,f,e,g,h,l;for(d=0;2>d;d++)for(f=0<d?a.va:a.g,e=0;e<f.length;e++)if(g=f[e],(h=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(l in a[g])h[l]||(h[l]=a[g][l]);a[g]=h}};a.Ra=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.va:a.g,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.tb=function(a){var b,d,f,e,g,h=0,l,k="",m="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(l=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(h=",p,ei,"),h&&l)))){if((a=l.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=h.indexOf(","+e.substring(0,d)+",")?k+=(k?"&":"")+e:m+=(m?"&":"")+e;k&&m?l=k+"&"+m:m=""}d=253-(l.length-m.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+l}return a};a.Va=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.X=!1;a.J=!1;a.jb=function(){a.J=!0;a.H()};a.Y=!1;a.S=!1;a.kb=function(c){a.marketingCloudVisitorID=c.MCMID;a.visitorOptedOut=c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.S=!0;a.H()};a.Ua=function(c){a.maxDelay||(a.maxDelay=250);return a.o("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.W=!1;a.I=!1;a.ra=function(){a.I=!0;a.H()};a.isReadyToTrack=function(){var c=!0,b=a.visitor;a.X||a.J||(a.Va(a.jb)?a.J=!0:a.X=!0);if(a.X&&!a.J)return!1;b&&b.isAllowed()&&(a.Y||a.marketingCloudVisitorID||!b.getVisitorValues||(a.Y=!0,a.marketingCloudVisitorID?a.S=!0:b.getVisitorValues(a.kb)),c=!a.Y||a.S||a.marketingCloudVisitorID?!0:!1);a.W||a.I||(a.Ua(a.ra)?a.I=!0:a.W=!0);a.W&&!a.I&&(c=!1);return c};a.l=p;a.r=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.ob=c;f.nb=b;f.lb=d;a.l==p&&(a.l=[]);a.l.push(f);0==a.r&&(a.r=setInterval(a.H,100))};a.H=function(){var c;if(a.isReadyToTrack()&&(a.ib(),a.l!=p))for(;0<a.l.length;)c=a.l.shift(),c.nb.apply(c.ob,c.lb)};a.ib=function(){a.r&&(clearInterval(a.r),a.r=0)};a.cb=function(c){var b,d,f=p,e=p;if(!a.isReadyToTrack()){b=[];if(c!=p)for(d in f={},c)f[d]=c[d];e={};a.Ra(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0}return!1};a.vb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+
" "+f.getDay()+" "+f.getTimezoneOffset());a.visitor&&a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState());a.o("_s");a.cb(c)||(b&&a.R(b),c&&(d={},a.Ra(d,0),a.R(c)),a.Cb()&&!a.visitorOptedOut&&(a.pa()||(a.fid=a.vb()),a.Fb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Sa||(f=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=f||void 0===f?void 0===f?"":f:n.document.referrer),a.Sa=1,a.referrer=a.tb(a.referrer),a.o("_g")),a.yb()&&!a.abort&&(a.visitor&&!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.zb(),g+=a.xb(),a.eb(e,g),a.o("_t"),a.referrer=""))),c&&a.R(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.ua=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.ua.push([c,b]):a.debugTracking&&a.D("DEBUG: Non function type passed to registerPreTrackCallback")};a.Ya=function(c){a.oa(a.ua,c)};a.ta=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.ta.push([c,b]):a.debugTracking&&a.D("DEBUG: Non function type passed to registerPostTrackCallback")};a.Xa=function(c){a.oa(a.ta,c)};a.oa=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.D(g.message)}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.k=c,a.v=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.eb=function(c,b){var d=a.Za()+"/"+c+"?AQB=1&ndh=1&pf=1&"+(a.qa()?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";a.Ya(d);a.Wa(d);a.T()};a.Za=function(){var c=a.$a();return"http"+
(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.qa()?"10":"1")+"/JS-"+a.version+(a.Ib?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.qa=function(){return a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks};a.$a=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=a.bb()+"."+c+".2o7.net");return b};a.bb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Qa=/{(%?)(.*?)(%?)}/;a.Mb=RegExp(a.Qa.source,"g");a.sb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.Mb),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Qa),k="";"%"==h[1]&&"timezone_offset"==h[2]?k=(new Date).getTimezoneOffset():"%"==h[1]&&"timestampz"==h[2]&&(k=a.wb());d.c=d.c.replace(g,a.escape(k))}}};a.wb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.j(4,c.getFullYear())+"-"+a.j(2,c.getMonth()+1)+"-"+a.j(2,c.getDate())+"T"+a.j(2,c.getHours())+":"+a.j(2,c.getMinutes())+":"+a.j(2,c.getSeconds())+(0<c.getTimezoneOffset()?"-":"+")+a.j(2,b.getUTCHours())+":"+a.j(2,b.getUTCMinutes())};a.j=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.la={};a.doPostbacks=function(c){if("object"==typeof c)if(a.sb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.la[d.id]=new Image,a.la[d.id].alt="",a.la[d.id].src=d.c)}};a.Wa=function(c){a.i||a.Ab();a.i.push(c);a.ea=a.B();a.Oa()};a.Ab=function(){a.i=a.Db();a.i||(a.i=[])};a.Db=function(){var c,b;if(a.ka()){try{(b=k.localStorage.getItem(a.ia()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.ka=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.Ea=function(){var c=0;a.i&&(c=a.i.length);a.p&&c++;return c};a.T=function(){if(a.p&&(a.A&&a.A.complete&&a.A.F&&a.A.na(),a.p))return;a.Fa=p;if(a.ja)a.ea>a.O&&a.Ma(a.i),a.ma(500);else{var c=a.mb();if(0<c)a.ma(c);else if(c=a.Ba())a.p=1,a.Eb(c),a.Hb(c)}};a.ma=function(c){a.Fa||(c||(c=0),a.Fa=setTimeout(a.T,c))};a.mb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.B()-a.Ka;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ba=function(){if(0<a.i.length)return a.i.shift()};a.Eb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.D(b)}};a.pa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.V=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(w){t=null}t&&"y"==t.x?(a.V=!0,a.U=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.U=function(a){return k.$.parseJSON(a)},a.V=!0):a.U=function(){return null};a.Hb=function(c){var b,d,f;a.pa()&&2047<c.length&&(a.Ta()&&(d=1,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.V?b.wa=!0:b=0));!b&&a.Pa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=2):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof k.InstallTrigger||(b.abort=function(){b.src=p}));b.La=Date.now();b.ya=function(){try{b.F&&(clearTimeout(b.F),b.F=0)}catch(a){}};b.onload=b.na=function(){b.La&&(a.fa=Date.now()-b.La);a.Xa(c);b.ya();a.qb();a.Z();a.p=0;a.T();if(b.wa){b.wa=!1;try{a.doPostbacks(a.U(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.Ca=function(){b.ya();(a.trackOffline||a.ja)&&a.p&&a.i.unshift(a.pb);a.p=0;a.ea>a.O&&a.Ma(a.i);a.Z();a.ma(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.na():b.Ca())};a.Ka=a.B();if(1==d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);else if(b.src=c,2==d){if(a.Ia)try{f.removeChild(a.Ia)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ia=a.A}b.F=setTimeout(function(){b.F&&(b.complete?b.na():(a.trackOffline&&b.abort&&b.abort(),b.Ca()))},5E3);a.pb=c;a.A=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.K||a.v)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.aa=setTimeout(a.Z,a.forcedLinkTrackingTimeout)};a.Ta=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.qb=function(){if(a.ka()&&!(a.Ja>a.O))try{k.localStorage.removeItem(a.ia()),a.Ja=a.B()}catch(c){}};a.Ma=function(c){if(a.ka()){a.Oa();try{k.localStorage.setItem(a.ia(),k.JSON.stringify(c)),a.O=a.B()}catch(b){}}};a.Oa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ba()}};a.forceOffline=function(){a.ja=!0};a.forceOnline=function(){a.ja=!1};a.ia=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.B=function(){return(new Date).getTime()};a.Ga=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Ib=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.R(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:k.location);d=d?d:"&";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+c+"="+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"=");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return null}};a.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");a.g=a.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ga="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.P=a.ga.slice(0);a.va="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.P.push("prop"+m)),a.g.push("eVar"+m),a.P.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID".split(" ");a.g=a.g.concat(m);a.G=a.G.concat(m);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.Ka=0;a.ea=0;a.O=0;a.Ja=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Pa=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Pa=!0}}catch(x){}a.Z=function(){a.aa&&(k.clearTimeout(a.aa),a.aa=p);a.k&&a.K&&a.k.dispatchEvent(a.K);a.v&&("function"==typeof a.v?a.v():a.k&&a.k.href&&(a.d.location=a.k.href));a.k=a.K=a.v=0};a.Na=function(){a.b=a.d.body;a.b?(a.u=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.xa)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.u,!1);else{a.b.removeEventListener("click",a.u,!0);a.xa=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.N&&a.N==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var h=a.N=a.clickObject;a.da&&(clearTimeout(a.da),a.da=0);a.da=setTimeout(function(){a.N==h&&(a.N=0)},1E4);f=a.Ea();a.track();if(f<a.Ea()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Ga(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.k=c.target,a.K=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.u):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.xa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.u,!0)),a.b.addEventListener("click",a.u,!1))):setTimeout(a.Na,30)};a.rb();a.Rb||(r?a.setAccount(r):a.D("Error, missing Report Suite ID in AppMeasurement initialization"),a.Na(),a.loadModule("ActivityMap"))}
function s_gi(r){var a,k=window.s_c_il,p,n,m=r.split(","),s,u,t=0;if(k)for(p=0;!t&&p<k.length;){a=k[p];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;else for(n=a.account?a.account:a.oun,n=a.allAccounts?a.allAccounts:n.split(","),s=0;s<m.length;s++)for(u=0;u<n.length;u++)m[s]==n[u]&&(t=1);p++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);function s_pgicq(){var r=window,a=r.s_giq,k,p,n;if(a)for(k=0;k<a.length;k++)p=a[k],n=s_gi(p.oun),n.setAccount(p.un),n.setTagContainer(p.tagContainerName);r.s_giq=0}s_pgicq();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ADB=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){var e=0;return{getUniqueId:function(){return e+=1}}}var h=Object.freeze({AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"}),f=Object.freeze({MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"}),p=Object.freeze({Video:"video",Audio:"audio"}),m=Object.freeze({FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"}),_=Object.freeze({Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"}),v=Object.freeze({Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"}),k=Object.freeze({Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"}),y=Object.freeze({VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"}),g=Object.freeze({OptOut:"optout",OptIn:"optin",OptUnknown:"optunknown"}),S=function(e){return null==e},P=Object.freeze({Log:"log",Info:"info",Warn:"warn",Error:"error"}),I=function(e){return"boolean"==typeof e},A=function(e){return"string"==typeof e},b=function(e){return A(e)&&e.length>0};function E(){return(new Date).getTime()}function C(e,t){if(window.console){var a;switch(e){case P.Log:a=window.console.log;break;case P.Info:a=window.console.info;break;case P.Warn:a=window.console.warn;break;case P.Error:a=window.console.error}if(a)a("MediaSDK: ["+function(){var e=new Date,t=function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(e.getMilliseconds());return e.toTimeString()+"."+t}()+"] "+t)}}function M(e,t){return setInterval(e,t)}var w=!1;function T(e){var t=e.debugLogging;I(t)&&(w=t)}function O(e,t,a){(w||e===P.Error)&&C(e,t+" "+a)}function R(e){var t=b(e)?"["+e+"]":"";return{log:function(e){!function(e,t){O(P.Log,e,t)}(t,e)},info:function(e){!function(e,t){O(P.Info,e,t)}(t,e)},warn:function(e){!function(e,t){O(P.Warn,e,t)}(t,e)},error:function(e){!function(e,t){O(P.Error,e,t)}(t,e)}}}var B=Object.freeze({AnalyticsTrackingServer:"analyticstrackingserver",AnalyticsSsl:"analyticsssl",Rsid:"rsid",Vid:"vid",Aid:"aid",Mcid:"mid",McOrgId:"orgid",AamLocHint:"aamlochint",CustomerIds:"customerids",MediaTrackingServer:"mediatrackingserver",MediaChannel:"mediachannel",MediaPlayerName:"mediaplayername",MediaAppVersion:"mediaappversion",MediaSsl:"mediassl"}),z=Object.freeze({Get:"GET",Post:"POST"}),j=Object.freeze({SessionStart:"sessionStart",SessionComplete:"sessionComplete",SessionEnd:"sessionEnd",AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",Play:"play",Ping:"ping",BufferStart:"bufferStart",PauseStart:"pauseStart",BitrateChange:"bitrateChange",Error:"error",StateStart:"stateStart",StateEnd:"stateEnd"}),D=Object.freeze({Show:"media.show",Season:"media.season",Episode:"media.episode",AssetId:"media.assetId",Genre:"media.genre",FirstAirDate:"media.firstAirDate",FirstDigitalDate:"media.firstDigitalDate",Rating:"media.rating",Originator:"media.originator",Network:"media.network",ShowType:"media.showType",AdLoad:"media.adLoad",MVPD:"media.pass.mvpd",Auth:"media.pass.auth",DayPart:"media.dayPart",Feed:"media.feed",StreamFormat:"media.streamFormat",Artist:"media.artist",Album:"media.album",Label:"media.label",Author:"media.author",Station:"media.station",Publisher:"media.publisher"}),V=Object.freeze({Advertiser:"media.ad.advertiser",CampaignId:"media.ad.campaignId",CreativeId:"media.ad.creativeId",SiteId:"media.ad.siteId",CreativeUrl:"media.ad.creativeURL",PlacementId:"media.ad.placementId"}),q=Object.freeze({Id:"media.id",Name:"media.name",Length:"media.length",ContentType:"media.contentType",StreamType:"media.streamType",PlayerName:"media.playerName",Resume:"media.resume",Channel:"media.channel",Publisher:"media.publisher",SdkVersion:"media.sdkVersion"}),x=Object.freeze({AppInstallationId:"appInstallationId",AnalyticsTrackingServer:"analytics.trackingServer",AnalyticsRsid:"analytics.reportSuite",AnalyticsSsl:"analytics.enableSSL",AnalyticsVisitorId:"analytics.visitorId",AnalyticsAid:"analytics.aid",VisitorMcOrgId:"visitor.marketingCloudOrgId",VisitorMcuserId:"visitor.marketingCloudUserId",VisitorAamLocHint:"visitor.aamLocationHint",VisitorCustomerIds:"visitor.customerIDs",VisitorCustomerKeyId:"id",VisitorCustomerKeyAuthState:"authState",MediaVersion:"media.libraryVersion"}),N=Object.freeze({Channel:"media.channel"}),F=Object.freeze({PodFriendlyName:"media.ad.podFriendlyName",PodIndex:"media.ad.podIndex",PodSecond:"media.ad.podSecond"}),L=Object.freeze({Name:"media.ad.name",Id:"media.ad.id",Length:"media.ad.length",PodPosition:"media.ad.podPosition",PlayerName:"media.ad.playerName"}),G=Object.freeze({FriendlyName:"media.chapter.friendlyName",Length:"media.chapter.length",Offset:"media.chapter.offset",Index:"media.chapter.index"}),H=Object.freeze({StateName:"media.state.name"}),Q=Object.freeze({Bitrate:"media.qoe.bitrate",DroppedFrames:"media.qoe.droppedFrames",Fps:"media.qoe.framesPerSecond",StartupTime:"media.qoe.timeToStart",ErrorId:"media.qoe.errorID",ErrorSource:"media.qoe.errorSource",ErrorSourcePlayer:"player",ErrorSourceExternal:"external"}),U=Object.freeze({EventType:"eventType",Params:"params",QoE:"qoeData",CustomMetadata:"customMetadata",PlayerTime:"playerTime"}),K=Object.freeze({Playhead:"playhead",Ts:"ts"}),W=function(e){return 0===Object.keys(e).length},Z=function(e){return"number"==typeof e&&!isNaN(e)},$=function(e){var t=parseInt(e,10);return Z(t)&&e===t},J=function(t){return!S(t)&&!Array.isArray(t)&&"object"===e(t)},X=function(e){return"function"==typeof e},Y=function(e,t){if(!X(e))return t;try{return e()}catch(e){return t}};function ee(e){var t={};return J(e)&&Object.keys(e).forEach((function(a){var i=e[a],r=i.id,n=i.authState,s=void 0===n?0:n;b(r)&&(t[a]={id:r,authState:s})})),t}function te(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r({},U.EventType,e.eventType);i[U.PlayerTime]=(r(t={},K.Playhead,e.playhead),r(t,K.Ts,e.ts),t),W(e.customMetadata)||(i[U.CustomMetadata]=e.customMetadata),W(e.qoeData)||(i[U.QoE]=e.qoeData);var n=s({},e.params);if(e.eventType===j.SessionStart){b(a[B.AnalyticsTrackingServer])&&(n[x.AnalyticsTrackingServer]=a[B.AnalyticsTrackingServer]),b(a[B.Rsid])&&(n[x.AnalyticsRsid]=a[B.Rsid]),I(a[B.AnalyticsSsl])&&(n[x.AnalyticsSsl]=a[B.AnalyticsSsl]),b(a[B.Vid])&&(n[x.AnalyticsVisitorId]=a[B.Vid]),b(a[B.Aid])&&(n[x.AnalyticsAid]=a[B.Aid]),b(a[B.McOrgId])&&(n[x.VisitorMcOrgId]=a[B.McOrgId]),b(a[B.Mcid])&&(n[x.VisitorMcuserId]=a[B.Mcid]),$(a[B.AamLocHint])&&(n[x.VisitorAamLocHint]=a[B.AamLocHint]);var o=ee(a[B.CustomerIds]);if(J(o)&&!W(o)&&(n[x.VisitorCustomerIds]=o),!b(n[q.Channel])){var d=a[B.MediaChannel];n[q.Channel]=b(d)?d:"unknown"}var c=a[B.MediaPlayerName];n[q.PlayerName]=b(c)?c:"unknown",b(a[B.MediaAppVersion])&&(n[q.SdkVersion]=a[B.MediaAppVersion]),n[x.MediaVersion]="js-3.0.1"}else if(e.eventType===j.AdStart){var u=a[B.MediaPlayerName];n[L.PlayerName]=b(u)?u:"unknown"}W(n)||(i[U.Params]=n);var l=Y((function(){return JSON.stringify(i)}),"");return l}function ae(e){try{var t=e.split("/");return t[4]?t[4]:""}catch(e){return""}}var ie=[B.AnalyticsTrackingServer,B.AnalyticsSsl,B.Rsid,B.Vid,B.Aid,B.Mcid,B.McOrgId,B.AamLocHint,B.CustomerIds,B.MediaChannel,B.MediaAppVersion,B.MediaPlayerName,B.MediaTrackingServer,B.MediaSsl],re=function(){function e(a){t(this,e),this._logger=R("MediaSession("+a+")"),this._hits=[],this._ecParams=null,this._sessionId=null,this._creatingMCSession=!1,this._createSessionFailureCount=0,this._internalError=!1,this._doneQueuing=!1}return i(e,[{key:"queue",value:function(e){this._internalError||this._doneQueuing||this._hits.push(e)}},{key:"process",value:function(e){this._internalError||0!==this._hits.length&&e.isReady()&&(this._ecParams||(this._ecParams=e.resolveKeys(ie)),S(this._sessionId)?this._startMCSession():this._flushPendingHits())}},{key:"end",value:function(){this._logger.log("end"),this._doneQueuing=!0}},{key:"abort",value:function(){this._logger.log("abort"),this._doneQueuing=!0,this._hits=[]}},{key:"doneProcessing",value:function(){return this._internalError||this._doneQueuing&&0===this._hits.length}},{key:"_startMCSession",value:function(){var e=this;if(!this._creatingMCSession){var t=this._hits[0];if(t.eventType!==j.SessionStart)return this._logger.log("Dropping hit("+t.eventType+") as we expected sessionStart"),void this._hits.shift();var a,i=((a=this._ecParams)[B.MediaSsl]?"https":"http")+"://"+a[B.MediaTrackingServer]+"/api/v1/sessions",r=te(t,this._ecParams);this._creatingMCSession=!0,this._sendRequest(i,z.Post,r,(function(t,a){var i,r=!1;do{if(201!==t)break;var n=a.location;if(!b(n))break;if(!(i=ae(n)))break;r=!0}while(0);r?(e._logger.log("Media collection session created with session id :  "+i),e._sessionId=i,e._hits.shift()):(e._logger.log("Creating Media collection session failed"),e._createSessionFailureCount+=1,e._createSessionFailureCount>=3&&(e._logger.log("Internal error: Creating Media collection session failed 3 times"),e._internalError=!0)),e._creatingMCSession=!1}))}}},{key:"_flushPendingHits",value:function(){var e=this;this._hits.splice(0,3).forEach((function(t){var a,i,r=(a=e._ecParams,i=e._sessionId,(a[B.MediaSsl]?"https":"http")+"://"+a[B.MediaTrackingServer]+"/api/v1/sessions/"+i+"/events"),n=te(t,e._ecParams);e._sendRequest(r,z.Post,n,(function(){}))}))}},{key:"_sendRequest",value:function(e,t,a,i){!function(e,t,a,i){if(void 0!==window.XMLHttpRequest){var r=new window.XMLHttpRequest;if("withCredentials"in r){var n=r;return n.open(t,e,!0),n.timeout=5e3,n.onload=function(){var e=n.status&&parseInt(n.status,10),t=n.responseText,a=function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var a=e.split(":",1)[0],i=e.substring(a.length+2);a.length>0&&(t[a.toLowerCase()]=i)}))}catch(e){}return t}(n.getAllResponseHeaders());i(e,a,t)},n.onerror=function(){i(0)},void n.send(a)}i(0)}}(e,t,a,i)}}]),e}(),ne=function(){function e(){t(this,e),this._logger=R("MediaProcessor"),this._isConfigured=!1,this._privacyStatus=g.OptUnknown,this._sessionIdGenerator=l(),this._sessionMap={}}return i(e,[{key:"configure",value:function(e){var t=this;this._isConfigured||(this._ecResolver=e,this._privacyStatus=this._ecResolver.getPrivacyStatus(),this._ecResolver.notifyPrivacyChange(this._onPrivacyChange.bind(this)),this._isConfigured=!0,this._processSessionTimer=M((function(){t._tick()}),500),this._logger.log("Configured with resolver"))}},{key:"startSession",value:function(){if(this._privacyStatus===g.OptOut)return this._logger.log("Privacy is opted out. Not starting a session"),-1;var t=this._sessionIdGenerator.getUniqueId();return this._sessionMap[t]=e._createMediaSession(t),t}},{key:"processHit",value:function(e,t){if(-1!==e){var a=this._sessionMap[e];S(a)||(this._logger.log("Process hit for session("+e+") => "+t),a.queue(t))}}},{key:"endSession",value:function(e){if(-1!==e){var t=this._sessionMap[e];S(t)||t.end()}}},{key:"_tick",value:function(){var e=this;Object.keys(this._sessionMap).forEach((function(t){var a=e._sessionMap[t];a.process(e._ecResolver),a.doneProcessing()&&(e._logger.log("Removing session "+t+" from store as it has finished processing"),delete e._sessionMap[t])}))}},{key:"_onPrivacyChange",value:function(e){var t=this;this._logger.log("Privacy switched to "+e),this._privacyStatus=e,e===g.OptOut&&(this._logger.log("Aborting all active sessions"),Object.keys(this._sessionMap).forEach((function(e){t._sessionMap[e].abort()})))}}],[{key:"_createMediaSession",value:function(e){return new re(e)}}]),e}(),se=function(){function e(a){var i=a.id,r=a.name,n=a.position,s=a.length;if(t(this,e),!b(i))throw new TypeError("id is not a valid string");if(!b(r))throw new TypeError("name is not a valid string");if(!$(n)||n<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.id=i,this.name=r,this.position=n,this.length=s}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.id===t.id&&this.name===t.name&&this.position===t.position&&this.length===t.length)}},{key:"serialize",value:function(){var e;return r(e={},"ad.id",this.id),r(e,"ad.name",this.name),r(e,"ad.position",this.position),r(e,"ad.length",this.length),e}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({id:t["ad.id"],name:t["ad.name"],position:t["ad.position"],length:t["ad.length"]})}),null):null}}]),e}(),oe=function(){function e(a){var i=a.name,r=a.position,n=a.startTime;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!$(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(n)||n<0)throw new TypeError("startTime cannot be less than zero");this.name=i,this.position=r,this.startTime=n}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.name===t.name&&this.position===t.position&&this.startTime===t.startTime)}},{key:"serialize",value:function(){var e;return r(e={},"adbreak.name",this.name),r(e,"adbreak.position",this.position),r(e,"adbreak.starttime",this.startTime),e}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({name:t["adbreak.name"],position:t["adbreak.position"],startTime:t["adbreak.starttime"]})}),null):null}}]),e}(),de=function(){function e(a){var i=a.name,r=a.position,n=a.startTime,s=a.length;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!$(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(n)||n<0)throw new TypeError("startTime cannot be less than zero");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.name=i,this.position=r,this.startTime=n,this.length=s}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.name===t.name&&this.position===t.position&&this.startTime===t.startTime&&this.length===t.length)}},{key:"serialize",value:function(){var e;return r(e={},"chapter.name",this.name),r(e,"chapter.position",this.position),r(e,"chapter.starttime",this.startTime),r(e,"chapter.length",this.length),e}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({name:t["chapter.name"],position:t["chapter.position"],startTime:t["chapter.starttime"],length:t["chapter.length"]})}),null):null}}]),e}(),ce=new RegExp("^[a-zA-Z0-9_\\.]{1,64}$"),ue=function(){function e(a){var i=a.name;if(t(this,e),!b(i))throw new TypeError("name is not a valid string");if(!ce.test(i))throw new TypeError("name should match '^[a-zA-Z0-9_\\.]{1,64}$' pattern");this.name=i}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&this.name===t.name}},{key:"serialize",value:function(){return r({},"customstate.name",this.name)}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({name:t["customstate.name"]})}),null):null}}]),e}(),le=function(){function e(a){var i=a.id,r=a.name,n=a.streamType,s=a.mediaType,o=a.length,d=a.resumed,c=a.prerollWaitTime,u=a.granularAdTracking;if(t(this,e),!b(i))throw new TypeError("id is not a valid string");if(!b(r))throw new TypeError("name is not a valid string");if(!b(n))throw new TypeError("streamType is not a valid string");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.id=i,this.name=r,this.streamType=n,this.mediaType=s!==p.Audio?p.Video:s,this.length=o,this.resumed=!!I(d)&&d,this.prerollWaitTime=!$(c)||c<0?250:c,this.granularAdTracking=!!I(u)&&u}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.id===t.id&&this.name===t.name&&this.streamType===t.streamType&&this.mediaType===t.mediaType&&this.length===t.length&&this.resumed===t.resumed&&this.prerollWaitTime===t.prerollWaitTime&&this.granularAdTracking===t.granularAdTracking)}},{key:"serialize",value:function(){var e;return r(e={},"media.id",this.id),r(e,"media.name",this.name),r(e,"media.streamtype",this.streamType),r(e,"media.type",this.mediaType),r(e,"media.length",this.length),r(e,"media.resumed",this.resumed),r(e,"media.prerollwaittime",this.prerollWaitTime),r(e,"media.granularadtracking",this.granularAdTracking),e}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({id:t["media.id"],name:t["media.name"],streamType:t["media.streamtype"],mediaType:t["media.type"],length:t["media.length"],resumed:t["media.resumed"],prerollWaitTime:t["media.prerollwaittime"],granularAdTracking:t["media.granularadtracking"]})}),null):null}}]),e}(),he=function(){function e(a){var i=a.bitrate,r=a.droppedFrames,n=a.fps,s=a.startupTime;if(t(this,e),!Z(i)||i<0)throw new TypeError("bitrate must not be less than zero");if(!Z(r)||r<0)throw new TypeError("dropped frames must not be less than zero");if(!Z(n)||n<0)throw new TypeError("fps must not be less than zero");if(!Z(s)||s<0)throw new TypeError("startupTime must not be less than zero");this.bitrate=i,this.droppedFrames=r,this.fps=n,this.startupTime=s}return i(e,[{key:"equal",value:function(t){return!S(t)&&t instanceof e&&(this.bitrate===t.bitrate&&this.droppedFrames===t.droppedFrames&&this.fps===t.fps&&this.startupTime===t.startupTime)}},{key:"serialize",value:function(){var e;return r(e={},"qoe.bitrate",this.bitrate),r(e,"qoe.droppedframes",this.droppedFrames),r(e,"qoe.fps",this.fps),r(e,"qoe.startuptime",this.startupTime),e}}],[{key:"deserialize",value:function(t){return J(t)?Y((function(){return new e({bitrate:t["qoe.bitrate"],droppedFrames:t["qoe.droppedframes"],fps:t["qoe.fps"],startupTime:t["qoe.startuptime"]})}),null):null}}]),e}(),fe=R("Media");var pe=function(e){try{return JSON.stringify(e,null,4)}catch(e){return"[Error formatting object]"}},me=Object.freeze({Name:"event.name",Params:"event.params",Metadata:"event.metadata",TimeStamp:"event.ts",InternalEvent:"event.internal",Playhead:"event.playhead",ErrorId:"error.id"}),_e=Object.freeze(s({SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pause",Error:"error",QoEUpdate:"qoeUpdate",PlayheadUpdate:"playheadUpdate"},h)),ve=function(){function e(a,i){if(t(this,e),S(a))throw new Error("id is not valid");this.id=a,this.description=i,this.predicates=[],this.actions=[]}return i(e,[{key:"addPredicate",value:function(e,t,a){if(!X(e))throw new Error("predicate is not a function");return this.predicates.push({predicate:e,val:t,message:a}),this}},{key:"addAction",value:function(e){if(!X(e))throw new Error("action is not a function");return this.actions.push(e),this}},{key:"runPredicates",value:function(e){for(var t=0;t<this.predicates.length;++t){var a=this.predicates[t];if(a.predicate(e)!==a.val)return{success:!1,message:a.message}}return{success:!0,message:""}}},{key:"runActions",value:function(e){for(var t=0;t<this.actions.length;++t){if(!(0,this.actions[t])(e))return!1}return!0}}]),e}(),ke=function(){function e(a){if(t(this,e),!a)throw new Error("RuleEngine needs a logger");this.logger=a,this.rules={}}return i(e,[{key:"setEnterAction",value:function(e){if(!X(e))throw new Error("enterAction is not a function");this.enterAction=e}},{key:"setExitAction",value:function(e){if(!X(e))throw new Error("exitAction is not a function");this.exitAction=e}},{key:"addRule",value:function(e){if(!(e instanceof ve))throw new Error("rule is not valid");this.rules[e.id]=e}},{key:"processRule",value:function(e,t){var a=this.rules[e];if(!a)return{success:!1,message:"Matching rule is not found"};var i=a.runPredicates(t);do{if(!i.success){this.logger.log("RuleEngine: Predicates failed for rule "+a.description+" : "+i.message);break}if(this.enterAction&&!this.enterAction(a,t)){this.logger.log("RuleEngine: Enter action prevents further processing for rule "+a.description);break}if(!a.runActions(t)){this.logger.log("RuleEngine: Rule action prevents further processing for rule "+a.description);break}this.exitAction&&this.exitAction(a,t)}while(0);return i}}]),e}(),ye=Object.freeze({Init:0,Play:1,Pause:2,Buffer:3,Seek:4,Stall:5}),ge=function(){function e(a,i){t(this,e),this._mediaInfo=a,this._mediaMetadata=i,this._adBreakInfo=null,this._adInfo=null,this._adMetadata=null,this._chapterInfo=null,this._chapterMetadata=null,this._qoeInfo=null,this._playhead=0,this._playstate=ye.Init,this._buffering=!1,this._seeking=!1,this._customStates=new Map}return i(e,[{key:"setAdBreakInfo",value:function(e){this._adBreakInfo=e}},{key:"clearAdBreakInfo",value:function(){this._adBreakInfo=null}},{key:"setAdInfo",value:function(e,t){this._adInfo=e,this._adMetadata=t}},{key:"clearAdInfo",value:function(){this._adInfo=null,this._adMetadata=null}},{key:"setChapterInfo",value:function(e,t){this._chapterInfo=e,this._chapterMetadata=t}},{key:"clearChapterInfo",value:function(){this._chapterInfo=null,this._chapterMetadata=null}},{key:"enterPlaybackState",value:function(e){switch(e){case ye.Play:case ye.Pause:case ye.Stall:this._playstate=e;break;case ye.Buffer:this._buffering=!0;break;case ye.Seek:this._seeking=!0}}},{key:"exitPlaybackState",value:function(e){switch(e){case ye.Buffer:this._buffering=!1;break;case ye.Seek:this._seeking=!1}}},{key:"isInPlaybackState",value:function(e){var t=!1;switch(e){case ye.Init:case ye.Play:case ye.Pause:case ye.Stall:t=this._playstate===e;break;case ye.Buffer:t=this._buffering;break;case ye.Seek:t=this._seeking}return t}},{key:"isIdle",value:function(){return!this.isInPlaybackState(ye.Play)||this.isInPlaybackState(ye.Seek)||this.isInPlaybackState(ye.Buffer)}},{key:"startCustomState",value:function(e){this._customStates.set(e.name,e)}},{key:"endCustomState",value:function(e){this._customStates.set(e.name,null)}},{key:"isCustomStateActive",value:function(e){return!!this._customStates.get(e.name)}},{key:"getActiveCustomStates",value:function(){var e=[];return this._customStates.forEach((function(t){t&&e.push(t)})),e}},{key:"hasTrackedCustomState",value:function(e){return this._customStates.has(e.name)}},{key:"numTrackedCustomStates",value:function(){return this._customStates.size}},{key:"mediaInfo",get:function(){return this._mediaInfo}},{key:"mediaMetadata",get:function(){return this._mediaMetadata}},{key:"isInAdBreak",get:function(){return!!this._adBreakInfo}},{key:"adBreakInfo",get:function(){return this._adBreakInfo}},{key:"isInAd",get:function(){return!!this._adInfo}},{key:"adInfo",get:function(){return this._adInfo}},{key:"adMetadata",get:function(){return this._adMetadata}},{key:"isInChapter",get:function(){return!!this._chapterInfo}},{key:"chapterInfo",get:function(){return this._chapterInfo}},{key:"chapterMetadata",get:function(){return this._chapterMetadata}},{key:"qoeInfo",get:function(){return this._qoeInfo},set:function(e){this._qoeInfo=e}},{key:"playhead",get:function(){return this._playhead},set:function(e){this._playhead=e}}]),e}(),Se=function(){function e(a){var i=a.eventType,r=a.params,n=a.customMetadata,s=a.qoeData,o=a.playhead,d=a.ts;if(t(this,e),!A(i))throw new Error("eventType should be a valid string");if(!Z(o))throw new Error("playhead should be a valid number");if(!$(d)||d<0)throw new Error("ts should be a valid positive integer");this.eventType=i,this.params=J(r)?r:{},this.customMetadata=J(n)?n:{},this.qoeData=J(s)?s:{},this.playhead=o,this.ts=d}return i(e,[{key:"toString",value:function(){return pe(this)}}]),e}(),Pe=function(){function e(a,i,r,n,s){t(this,e),this._logger=a,this._hitProcessor=i,this._config=r,this._media=n,this._refTs=s,this._previousState=ye.Init,this._previousStateTs=s,this._interval=1e4,this._lastQoeInfo=null,this._startSession()}return i(e,[{key:"setRefTS",value:function(e){this._refTs=e}},{key:"processMediaStart",value:function(){this._processMediaStart(!1)}},{key:"processMediaComplete",value:function(){this._generateHit(j.SessionComplete),this._endSession()}},{key:"processMediaSkip",value:function(){this._generateHit(j.SessionEnd),this._endSession()}},{key:"processAdBreakStart",value:function(){var t=e._extractAdBreakParams(this._media);this._generateHit(j.AdBreakStart,t,{})}},{key:"processAdBreakComplete",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdBreakSkip",value:function(){this._generateHit(j.AdBreakComplete)}},{key:"processAdStart",value:function(){e._isGranularAdTrackingEnabled(this._media)&&(this._interval=1e3);var t=e._extractAdParams(this._media),a=e._extractAdMetadata(this._media);this._generateHit(j.AdStart,t,a)}},{key:"processAdComplete",value:function(){this._interval=1e4,this._generateHit(j.AdComplete)}},{key:"processAdSkip",value:function(){this._interval=1e4,this._generateHit(j.AdSkip)}},{key:"processChapterStart",value:function(){var t=e._extractChapterParams(this._media),a=e._extractChapterMetadata(this._media);this._generateHit(j.ChapterStart,t,a)}},{key:"processChapterComplete",value:function(){this._generateHit(j.ChapterComplete)}},{key:"processChapterSkip",value:function(){this._generateHit(j.ChapterSkip)}},{key:"processCustomStateStart",value:function(e){var t={};t[H.StateName]=e.name,this._generateHit(j.StateStart,t,{},{})}},{key:"processCustomStateEnd",value:function(e){var t={};t[H.StateName]=e.name,this._generateHit(j.StateEnd,t,{},{})}},{key:"processSessionAbort",value:function(){this.processMediaSkip()}},{key:"processSessionRestart",value:function(){this._previousState=ye.Init,this._previousStateTs=this._refTs,this._lastQoeInfo=null,this._startSession(),this.processMediaStart(!0),this._media.isInChapter&&this.processChapterStart(),this._media.isInAdBreak&&this.processAdBreakStart(),this._media.isInAd&&this.processAdStart();var e,t=this._media.getActiveCustomStates();for(e=0;e<t.length;e++)this.processCustomStateStart(t[e]);this.processPlayback(!0)}},{key:"processBitrateChange",value:function(){var t=e._extractQoeData(this._media);this._generateHit(j.BitrateChange,{},{},t)}},{key:"processError",value:function(t){var a=e._extractQoeData(this._media);a[Q.ErrorId]=t,a[Q.ErrorSource]=Q.ErrorSourcePlayer,this._generateHit(j.Error,{},{},a)}},{key:"processPlayback",value:function(t){if(this._isTracking){var a=this._getPlaybackState();if(this._previousState!==a||t){var i=e._playbackStateToMediaCollectionEvent(a);this._generateHit(i),this._previousState=a,this._previousStateTs=this._refTs}else a===this._previousState&&this._refTs-this._previousStateTs>=this._interval&&(this._generateHit(j.Ping),this._previousStateTs=this._refTs)}}},{key:"_processMediaStart",value:function(t){var a={};a=e._extractMediaParams(this._media),t&&(a[q.Resume]=!0);var i=this._config[N.Channel];b(i)&&(a[N.Channel]=i);var r=e._extractMediaMetadata(this._media);this._generateHit(j.SessionStart,a,r)}},{key:"_generateHit",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=r;if(S(n)){var s=this._media.qoeInfo,o=!(S(s)||!S(this._lastQoeInfo)&&this._lastQoeInfo.equal(s));o&&(n=e._extractQoeData(this._media),this._lastQoeInfo=s)}if(this._isTracking){var d=this._media.playhead,c=this._refTs,u=new Se({eventType:t,params:a,customMetadata:i,qoeData:n,playhead:d,ts:c});this._hitProcessor.processHit(this._sessionId,u)}else this._logger.log("#_generateHit - Dropping hit as we have internally stopped tracking the session")}},{key:"_getPlaybackState",value:function(){return this._media.isInPlaybackState(ye.Buffer)?ye.Buffer:this._media.isInPlaybackState(ye.Seek)?ye.Seek:this._media.isInPlaybackState(ye.Play)?ye.Play:this._media.isInPlaybackState(ye.Pause)?ye.Pause:this._media.isInPlaybackState(ye.Stall)?ye.Stall:ye.Init}},{key:"_startSession",value:function(){this._sessionId=this._hitProcessor.startSession(),this._isTracking=!0,this._logger.log("Start internal session("+this._sessionId+")")}},{key:"_endSession",value:function(){this._hitProcessor.endSession(this._sessionId),this._isTracking=!1,this._logger.log("End internal session("+this._sessionId+")")}}],[{key:"_isGranularAdTrackingEnabled",value:function(e){var t=e.mediaInfo;return!S(t)&&t.granularAdTracking}},{key:"_extractMediaParams",value:function(t){var a={},i=t.mediaInfo;S(i)||(a[q.Id]=i.id,a[q.Name]=i.name,a[q.Length]=i.length,a[q.ContentType]=i.streamType,a[q.StreamType]=i.mediaType,a[q.Resume]=i.resumed);var r=t.mediaMetadata;return J(r)&&Object.keys(r).forEach((function(t){if(e._standardMediaMetadataMap.has(t)){var i=e._standardMediaMetadataMap.get(t);a[i]=r[t]}})),a}},{key:"_extractMediaMetadata",value:function(t){var a={},i=t.mediaMetadata;return J(i)&&Object.keys(i).forEach((function(t){e._standardMediaMetadataMap.has(t)||(a[t]=i[t])})),a}},{key:"_extractAdBreakParams",value:function(e){var t={},a=e.adBreakInfo;return S(a)||(t[F.PodFriendlyName]=a.name,t[F.PodIndex]=a.position,t[F.PodSecond]=a.startTime),t}},{key:"_extractAdParams",value:function(t){var a={},i=t.adInfo;S(i)||(a[L.Name]=i.name,a[L.Id]=i.id,a[L.Length]=i.length,a[L.PodPosition]=i.position);var r=t.adMetadata;return J(r)&&Object.keys(r).forEach((function(t){if(e._standardAdMetadataMap.has(t)){var i=e._standardAdMetadataMap.get(t);a[i]=r[t]}})),a}},{key:"_extractAdMetadata",value:function(t){var a={},i=t.adMetadata;return J(i)&&Object.keys(i).forEach((function(t){e._standardAdMetadataMap.has(t)||(a[t]=i[t])})),a}},{key:"_extractChapterParams",value:function(e){var t={},a=e.chapterInfo;return S(a)||(t[G.FriendlyName]=a.name,t[G.Index]=a.position,t[G.Length]=a.length,t[G.Offset]=a.startTime),t}},{key:"_extractChapterMetadata",value:function(e){var t={},a=e.chapterMetadata;return J(a)&&Object.keys(a).forEach((function(e){t[e]=a[e]})),t}},{key:"_extractQoeData",value:function(e){var t={},a=e.qoeInfo;return J(a)&&(t[Q.Bitrate]=parseInt(a.bitrate,10),t[Q.Fps]=parseInt(a.fps,10),t[Q.DroppedFrames]=parseInt(a.droppedFrames,10),t[Q.StartupTime]=parseInt(a.startupTime,10)),t}},{key:"_playbackStateToMediaCollectionEvent",value:function(e){switch(e){case ye.Buffer:return j.BufferStart;case ye.Seek:return j.PauseStart;case ye.Play:return j.Play;case ye.Pause:return j.PauseStart;case ye.Stall:return j.Play;case ye.Init:return j.Ping;default:return""}}}]),e}(),Ie=new Map;Ie.set(_.Show,D.Show),Ie.set(_.Season,D.Season),Ie.set(_.Episode,D.Episode),Ie.set(_.AssetId,D.AssetId),Ie.set(_.Genre,D.Genre),Ie.set(_.FirstAirDate,D.FirstAirDate),Ie.set(_.FirstDigitalDate,D.FirstDigitalDate),Ie.set(_.Rating,D.Rating),Ie.set(_.Originator,D.Originator),Ie.set(_.Network,D.Network),Ie.set(_.ShowType,D.ShowType),Ie.set(_.AdLoad,D.AdLoad),Ie.set(_.MVPD,D.MVPD),Ie.set(_.Authorized,D.Auth),Ie.set(_.DayPart,D.DayPart),Ie.set(_.Feed,D.Feed),Ie.set(_.StreamFormat,D.StreamFormat),Ie.set(v.Artist,D.Artist),Ie.set(v.Album,D.Album),Ie.set(v.Label,D.Label),Ie.set(v.Author,D.Author),Ie.set(v.Station,D.Station),Ie.set(v.Publisher,D.Publisher),Pe._standardMediaMetadataMap=Ie;var Ae=new Map;Ae.set(k.Advertiser,V.Advertiser),Ae.set(k.CampaignId,V.CampaignId),Ae.set(k.CreativeId,V.CreativeId),Ae.set(k.PlacementId,V.PlacementId),Ae.set(k.SiteId,V.SiteId),Ae.set(k.CreativeUrl,V.CreativeUrl),Pe._standardAdMetadataMap=Ae;var be="Media tracker is not in active tracking session, call 'API:trackSessionStart' to begin a new tracking session.",Ee="Media tracker is in active tracking session, call 'API:trackSessionEnd' or 'API:trackComplete' to end current tracking session.",Ce="Media tracker is tracking buffer events, call 'API:trackEvent(BufferComplete)' first to stop tracking buffer events.",Me="Media tracker is not tracking buffer events, call 'API:trackEvent(BufferStart)' before 'API:trackEvent(BufferComplete)'.",we="Media tracker is tracking seek events, call 'API:trackEvent(SeekComplete)' first to stop tracking seek events.",Te="Media tracker is not tracking seek events, call 'API:trackEvent(SeekStart)' before 'API:trackEvent(SeekComplete)'.",Oe="Media tracker is not tracking any AdBreak, call 'API:trackEvent(AdBreakStart)' to begin tracking AdBreak",Re="Media tracker is not tracking any Ad, call 'API:trackEvent(AdStart)' to begin tracking Ad",Be="Media tracker is not tracking any Chapter, call 'API:trackEvent(ChapterStart)' to begin tracking Chapter",ze="MediaInfo passed into 'API:trackSessionStart' is invalid.",je="AdBreakInfo passed into 'API:trackEvent(AdBreakStart)' is invalid.",De="Media tracker is currently tracking the AdBreak passed into 'API:trackEvent(AdBreakStart)'.",Ve="AdInfo passed into 'API:trackEvent(AdStart)' is invalid.",qe="StateInfo passed into 'API:trackEvent(StateStart|StateEnd)' is invalid.",xe="ErrorId passed into 'API:trackError()' is invalid.",Ne="Media tracker is currently tracking the Ad passed into 'API:trackEvent(AdStart)'.",Fe="ChapterInfo passed into 'API:trackEvent(ChapterStart)' is invalid.",Le="Media tracker is currently tracking the Chapter passed into 'API:trackEvent(ChapterStart)'.",Ge="QoEInfo passed into 'API:updateQoEInfo' is invalid.",He="Media tracker is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",Qe="Media tracker is already tracking a state with the same state name.",Ue="Media tracker is not already tracking a state with the same state name.",Ke="Media tracker has reached maximum number of states per session (10).",We=new RegExp("^[a-zA-Z0-9_\\.]+$"),Ze=function(){function e(a,i,r){if(t(this,e),!a)throw new Error("hitProcessor should be valid");if(!i)throw new Error("logger should be valid");this._hitProcessor=a,this._logger=i,this._config=J(r)?r:{},this._resetStates(),this._setupRules()}return i(e,[{key:"track",value:function(t){var a=t[me.Name];return b(a)?$(t[me.TimeStamp])?(J(t[me.Params])||(t[me.Params]={}),t[me.Metadata]=e._cleanMetadata(t[me.Metadata]),!!this._prerollDeferRule(a,t)||this._processRule(a,t)):(this._logger.log("#track - Event timestamp is missing in track event data. - "+a),!1):(this._logger.log("#track - Event name is missing in track event data"),!1)}},{key:"_resetStates",value:function(){this._media=null,this._hitGenerator=null,this._sessionRefTs=null,this._inPrerollInterval=!1,this._prerollRefTs=null,this._prerollQueuedRules=[],this._contentStarted=!1,this._contentStartRefTs=null,this._mediaIdle=!1,this._trackerIdle=!1,this._mediaIdleStartTs=0}},{key:"_createHitGenerator",value:function(e){return new Pe(this._logger,this._hitProcessor,this._config,this._media,e)}},{key:"_processRule",value:function(e,t){return this._ruleEngine.processRule(e,t).success}},{key:"_setupRules",value:function(){this._ruleEngine=new ke(this._logger),this._ruleEngine.setEnterAction(this._cmdEnterAction.bind(this)),this._ruleEngine.setExitAction(this._cmdExitAction.bind(this));var e=this._isInMedia.bind(this),t=this._isInAdBreak.bind(this),a=this._isInAd.bind(this),i=this._isInChapter.bind(this),r=this._isInTrackedState.bind(this),n=this._isValidMediaInfo.bind(this),s=this._isValidAdBreakInfo.bind(this),o=this._isValidAdInfo.bind(this),d=this._isValidChapterInfo.bind(this),c=this._isValidQoEInfo.bind(this),u=this._isValidStateInfo.bind(this),l=this._isValidErrorInfo.bind(this),h=this._isDifferentAdBreakInfo.bind(this),f=this._isDifferentAdInfo.bind(this),p=this._isDifferentChapterInfo.bind(this),m=this._allowPlayerStateChange.bind(this),_=this._allowStateTrack.bind(this),v=this._isInBuffering.bind(this),k=this._isInSeeking.bind(this),y=this._cmdMediaStart.bind(this),g=this._cmdMediaSkip.bind(this),S=this._cmdMediaComplete.bind(this),P=this._cmdError.bind(this),I=this._cmdPlay.bind(this),A=this._cmdPause.bind(this),b=this._cmdBufferStart.bind(this),E=this._cmdBufferComplete.bind(this),C=this._cmdSeekStart.bind(this),M=this._cmdSeekComplete.bind(this),w=this._cmdAdStart.bind(this),T=this._cmdAdComplete.bind(this),O=this._cmdAdSkip.bind(this),R=this._cmdAdBreakStart.bind(this),B=this._cmdAdBreakComplete.bind(this),z=this._cmdAdBreakSkip.bind(this),j=this._cmdChapterStart.bind(this),D=this._cmdChapterComplete.bind(this),V=this._cmdChapterSkip.bind(this),q=this._cmdStateStart.bind(this),x=this._cmdStateEnd.bind(this),N=this._cmdBitrateChange.bind(this),F=this._cmdQoEUpdate.bind(this),L=this._cmdPlayheadUpdate.bind(this),G=new ve(_e.SessionStart,"API:trackSessionStart");G.addPredicate(e,!1,Ee).addPredicate(n,!0,ze).addAction(y),this._ruleEngine.addRule(G);var H=new ve(_e.SessionComplete,"API:trackComplete");H.addPredicate(e,!0,be).addAction(O).addAction(z).addAction(V).addAction(S),this._ruleEngine.addRule(H);var Q=new ve(_e.SessionEnd,"API:trackSessionEnd");Q.addPredicate(e,!0,be).addAction(O).addAction(z).addAction(V).addAction(g),this._ruleEngine.addRule(Q);var U=new ve(_e.Error,"API:trackError");U.addPredicate(e,!0,be).addPredicate(l,!0,xe).addAction(P),this._ruleEngine.addRule(U);var K=new ve(_e.Play,"API:trackPlay");K.addPredicate(e,!0,be).addPredicate(m,!0,He).addAction(M).addAction(E).addAction(I),this._ruleEngine.addRule(K);var W=new ve(_e.Pause,"API:trackPause");W.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,!1,Ce).addPredicate(k,!1,we).addAction(A),this._ruleEngine.addRule(W);var Z=new ve(_e.BufferStart,"API:trackEvent(BufferStart)");Z.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,!1,Ce).addPredicate(k,!1,we).addAction(b),this._ruleEngine.addRule(Z);var $=new ve(_e.BufferComplete,"API:trackEvent(BufferComplete)");$.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(v,!0,Me).addAction(E),this._ruleEngine.addRule($);var J=new ve(_e.SeekStart,"API:trackEvent(SeekStart)");J.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(k,!1,we).addPredicate(v,!1,Ce).addAction(C),this._ruleEngine.addRule(J);var X=new ve(_e.SeekComplete,"API:trackEvent(SeekComplete)");X.addPredicate(e,!0,be).addPredicate(m,!0,He).addPredicate(k,!0,Te).addAction(M),this._ruleEngine.addRule(X);var Y=new ve(_e.AdBreakStart,"API:trackEvent(AdBreakStart)");Y.addPredicate(e,!0,be).addPredicate(s,!0,je).addPredicate(h,!0,De).addAction(O).addAction(z).addAction(R),this._ruleEngine.addRule(Y);var ee=new ve(_e.AdBreakComplete,"API:trackEvent(AdBreakComplete)");ee.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addAction(O).addAction(B),this._ruleEngine.addRule(ee);var te=new ve(_e.AdStart,"API:trackEvent(AdStart)");te.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(o,!0,Ve).addPredicate(f,!0,Ne).addAction(O).addAction(w),this._ruleEngine.addRule(te);var ae=new ve(_e.AdComplete,"API:trackEvent(AdComplete)");ae.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(a,!0,Re).addAction(T),this._ruleEngine.addRule(ae);var ie=new ve(_e.AdSkip,"API:trackEvent(AdSkip)");ie.addPredicate(e,!0,be).addPredicate(t,!0,Oe).addPredicate(a,!0,Re).addAction(O),this._ruleEngine.addRule(ie);var re=new ve(_e.ChapterStart,"API::trackEvent(chapterStart)");re.addPredicate(e,!0,be).addPredicate(d,!0,Fe).addPredicate(p,!0,Le).addAction(V).addAction(j),this._ruleEngine.addRule(re);var ne=new ve(_e.ChapterComplete,"API::trackEvent(chapterComplete)");ne.addPredicate(e,!0,be).addPredicate(i,!0,Be).addAction(D),this._ruleEngine.addRule(ne);var se=new ve(_e.ChapterSkip,"API:trackEvent(chapterSkip)");se.addPredicate(e,!0,be).addPredicate(i,!0,Be).addAction(V),this._ruleEngine.addRule(se);var oe=new ve(_e.BitrateChange,"API:trackEvent(BitrateChange)");oe.addPredicate(e,!0,be).addAction(N),this._ruleEngine.addRule(oe);var de=new ve(_e.QoEUpdate,"API:trackEvent(QoEUpdate)");de.addPredicate(e,!0,be).addPredicate(c,!0,Ge).addAction(F),this._ruleEngine.addRule(de);var ce=new ve(_e.PlayheadUpdate,"API:trackEvent(PlayheadUpdate)");ce.addPredicate(e,!0,be).addAction(L),this._ruleEngine.addRule(ce);var ue=new ve(_e.StateStart,"API:trackEvent(StateStart)");ue.addPredicate(e,!0,be).addPredicate(u,!0,qe).addPredicate(r,!1,Qe).addPredicate(_,!0,Ke).addAction(q),this._ruleEngine.addRule(ue);var le=new ve(_e.StateEnd,"API:trackEvent(StateEnd)");le.addPredicate(e,!0,be).addPredicate(u,!0,qe).addPredicate(r,!0,Ue).addAction(x),this._ruleEngine.addRule(le)}},{key:"_isInMedia",value:function(){return!S(this._media)}},{key:"_isInAdBreak",value:function(){return this._media.isInAdBreak}},{key:"_isInAd",value:function(){return this._media.isInAd}},{key:"_isInChapter",value:function(){return this._media.isInChapter}},{key:"_isInBuffering",value:function(){return this._media.isInPlaybackState(ye.Buffer)}},{key:"_isInSeeking",value:function(){return this._media.isInPlaybackState(ye.Seek)}},{key:"_isInTrackedState",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.isCustomStateActive(t)}},{key:"_isValidMediaInfo",value:function(e){return null!=le.deserialize(e[me.Params])}},{key:"_isValidAdBreakInfo",value:function(e){return null!=oe.deserialize(e[me.Params])}},{key:"_isValidAdInfo",value:function(e){return null!=se.deserialize(e[me.Params])}},{key:"_isValidStateInfo",value:function(e){return null!=ue.deserialize(e[me.Params])}},{key:"_isValidChapterInfo",value:function(e){return null!=de.deserialize(e[me.Params])}},{key:"_isValidQoEInfo",value:function(e){return null!=he.deserialize(e[me.Params])}},{key:"_isValidErrorInfo",value:function(e){var t=e[me.Params];if(!J(t))return!1;var a=t[me.ErrorId];return b(a)}},{key:"_isDifferentAdBreakInfo",value:function(e){return!oe.deserialize(e[me.Params]).equal(this._media.adBreakInfo)}},{key:"_isDifferentAdInfo",value:function(e){return!se.deserialize(e[me.Params]).equal(this._media.adInfo)}},{key:"_isDifferentChapterInfo",value:function(e){return!de.deserialize(e[me.Params]).equal(this._media.chapterInfo)}},{key:"_allowPlayerStateChange",value:function(){return!this._media.isInAdBreak||this._media.isInAd}},{key:"_allowStateTrack",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.hasTrackedCustomState(t)||this._media.numTrackedCustomStates()<10}},{key:"_cmdEnterAction",value:function(e,t){var a=this._getRefTs(t);return S(this._hitGenerator)||this._hitGenerator.setRefTS(a),!0}},{key:"_cmdExitAction",value:function(e,t){if(S(this._media))return!1;e.id===_e.AdStart&&(!this._media.isInPlaybackState(ye.Init)||this._media.isInPlaybackState(ye.Buffer)||this._media.isInPlaybackState(ye.Seek)||this._media.enterPlaybackState(ye.Play)),e.id!==_e.BufferComplete&&e.id!==_e.SeekComplete||this._media.isInPlaybackState(ye.Init)&&this._media.enterPlaybackState(ye.Pause),this._cmdIdleDetection(t),this._cmdSessionTimeoutDetection(t),this._cmdContentStartDetection(t);var a=e.id===_e.AdStart||e.id===_e.AdBreakComplete;return this._hitGenerator.processPlayback(a),!0}},{key:"_cmdMediaStart",value:function(e){var t=le.deserialize(e[me.Params]),a=e[me.Metadata],i=this._getRefTs(e);return this._media=new ge(t,a),this._hitGenerator=this._createHitGenerator(i),this._hitGenerator.processMediaStart(),this._sessionRefTs=i,this._inPrerollInterval=0!==t.prerollWaitTime,this._prerollRefTs=i,!0}},{key:"_cmdMediaComplete",value:function(){return this._hitGenerator.processMediaComplete(),this._resetStates(),!0}},{key:"_cmdMediaSkip",value:function(){return this._hitGenerator.processMediaSkip(),this._resetStates(),!0}},{key:"_cmdAdBreakStart",value:function(e){var t=oe.deserialize(e[me.Params]);return this._media.setAdBreakInfo(t),this._hitGenerator.processAdBreakStart(),!0}},{key:"_cmdAdBreakComplete",value:function(){return this._hitGenerator.processAdBreakComplete(),this._media.clearAdBreakInfo(),!0}},{key:"_cmdAdBreakSkip",value:function(){return this._media.isInAdBreak&&(this._hitGenerator.processAdBreakSkip(),this._media.clearAdBreakInfo()),!0}},{key:"_cmdAdStart",value:function(e){var t=se.deserialize(e[me.Params]),a=e[me.Metadata];return this._media.setAdInfo(t,a),this._hitGenerator.processAdStart(),!0}},{key:"_cmdAdComplete",value:function(){return this._hitGenerator.processAdComplete(),this._media.clearAdInfo(),!0}},{key:"_cmdAdSkip",value:function(){return this._media.isInAd&&(this._hitGenerator.processAdSkip(),this._media.clearAdInfo()),!0}},{key:"_cmdChapterStart",value:function(e){var t=de.deserialize(e[me.Params]),a=e[me.Metadata];return this._media.setChapterInfo(t,a),this._hitGenerator.processChapterStart(),!0}},{key:"_cmdChapterComplete",value:function(){return this._hitGenerator.processChapterComplete(),this._media.clearChapterInfo(),!0}},{key:"_cmdChapterSkip",value:function(){return this._media.isInChapter&&(this._hitGenerator.processChapterSkip(),this._media.clearChapterInfo()),!0}},{key:"_cmdError",value:function(e){var t=e[me.Params][me.ErrorId];return this._hitGenerator.processError(t),!0}},{key:"_cmdBitrateChange",value:function(){return this._hitGenerator.processBitrateChange(),!0}},{key:"_cmdPlay",value:function(){return this._media.enterPlaybackState(ye.Play),!0}},{key:"_cmdPause",value:function(){return this._media.enterPlaybackState(ye.Pause),!0}},{key:"_cmdBufferStart",value:function(){return this._media.enterPlaybackState(ye.Buffer),!0}},{key:"_cmdBufferComplete",value:function(){return this._media.isInPlaybackState(ye.Buffer)&&this._media.exitPlaybackState(ye.Buffer),!0}},{key:"_cmdSeekStart",value:function(){return this._media.enterPlaybackState(ye.Seek),!0}},{key:"_cmdSeekComplete",value:function(){return this._media.isInPlaybackState(ye.Seek)&&this._media.exitPlaybackState(ye.Seek),!0}},{key:"_cmdQoEUpdate",value:function(e){var t=he.deserialize(e[me.Params]);return this._media.qoeInfo=t,!0}},{key:"_cmdPlayheadUpdate",value:function(e){var t=e[me.Params];if(J(t)){var a=t[me.Playhead];Z(a)&&a>=0&&(this._media.playhead=a)}return!0}},{key:"_cmdIdleDetection",value:function(e){var t=this._getRefTs(e);this._media.isIdle()?this._mediaIdle?!this._trackerIdle&&t-this._mediaIdleStartTs>=18e5&&(this._hitGenerator.processSessionAbort(),this._trackerIdle=!0):(this._mediaIdle=!0,this._mediaIdleStartTs=t):(this._trackerIdle&&(this._hitGenerator.processSessionRestart(),this._trackerIdle=!1,this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null),this._mediaIdle=!1)}},{key:"_cmdSessionTimeoutDetection",value:function(e){var t=this._getRefTs(e);!this._trackerIdle&&t-this._sessionRefTs>=864e5&&(this._hitGenerator.processSessionAbort(),this._hitGenerator.processSessionRestart(),this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null)}},{key:"_cmdContentStartDetection",value:function(e){return!(!this._media.isIdle()&&!this._contentStarted)||(this._media.isInAdBreak?(this._contentStartRefTs=null,!0):(null==this._contentStartRefTs&&(this._contentStartRefTs=this._getRefTs(e)),this._getRefTs(e)-this._contentStartRefTs>=1e3&&(this._hitGenerator.processPlayback(!0),this._contentStarted=!0),!0))}},{key:"_cmdStateStart",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.startCustomState(t),this._hitGenerator.processCustomStateStart(t),!0}},{key:"_cmdStateEnd",value:function(e){var t=ue.deserialize(e[me.Params]);return this._media.endCustomState(t),this._hitGenerator.processCustomStateEnd(t),!0}},{key:"_getRefTs",value:function(e){var t=e[me.TimeStamp];return $(t)?t:null}},{key:"_prerollDeferRule",value:function(e,t){if(this._inPrerollInterval&&null!=this._media){var a=this._media.mediaInfo.prerollWaitTime;if(this._prerollQueuedRules.push({eventName:e,context:t}),this._getRefTs(t)-this._prerollRefTs>=a||e===_e.AdBreakStart||e===_e.MediaComplete||e===_e.MediaSkip){for(var i=this._prerollReorderRules(this._prerollQueuedRules),r=0;r<i.length;r++){var n=i[r];this._processRule(n.eventName,n.context)}this._prerollQueuedRules=[],this._inPrerollInterval=!1}return!0}return!1}},{key:"_prerollReorderRules",value:function(e){for(var t=[],a=!1,i=0;i<e.length;++i)if(e[i].eventName===_e.AdBreakStart){a=!0;break}for(var r=a,n=0;n<e.length;n++){var s=e[n];s.eventName===_e.Play&&r||(s.eventName===_e.AdBreakStart&&(r=!1),t.push(s))}return t}}],[{key:"_cleanMetadata",value:function(e){var t={};return J(e)&&Object.keys(e).forEach((function(a){var i=e[a];We.test(a)&&!S(i)&&(t[a]=String(i))})),t}}]),e}(),$e=function(){function e(a,i,r){t(this,e),this._logger=R("MediaTracker ("+i+")"),this._tracker=new Ze(a,this._logger,r),this._timer=null,this._lastEventTS=null,this._lastPlayheadParams=null}return i(e,[{key:"trackSessionStart",value:function(e,t){this._logger.log("trackSessionStart(info:"+pe(e)+" metadata:"+pe(t)+")"),this._trackInternal(_e.SessionStart,e,t)}},{key:"trackSessionEnd",value:function(){this._logger.log("trackSessionEnd"),this._trackInternal(_e.SessionEnd)}},{key:"trackComplete",value:function(){this._logger.log("trackComplete"),this._trackInternal(_e.SessionComplete)}},{key:"trackPlay",value:function(){this._logger.log("trackPlay"),this._trackInternal(_e.Play)}},{key:"trackPause",value:function(){this._logger.log("trackPause"),this._trackInternal(_e.Pause)}},{key:"trackEvent",value:function(e,t,a){this._logger.log("trackEvent("+e+" info:"+pe(t)+" metadata:"+pe(a)+")"),this._trackInternal(e,t,a)}},{key:"trackError",value:function(e){this._logger.log("trackError("+e+")");var t=r({},me.ErrorId,e);this._trackInternal(_e.Error,t)}},{key:"updatePlayhead",value:function(e){var t=r({},me.Playhead,e);this._trackInternal(_e.PlayheadUpdate,t)}},{key:"updateQoEObject",value:function(e){this._logger.log("updateQoEObject("+pe(e)+")"),this._trackInternal(_e.QoEUpdate,e)}},{key:"destroy",value:function(){this._logger.log("destroy()"),this._stopTimer(),this._tracker=null}},{key:"_trackInternal",value:function(e,t,a){var i,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._tracker){var s=E(),o=(r(i={},me.Name,e),r(i,me.Params,t),r(i,me.Metadata,a),r(i,me.TimeStamp,s),r(i,me.InternalEvent,n),i),d=this._tracker.track(o);this._lastEventTS=s,e===_e.PlayheadUpdate&&(this._lastPlayheadParams=t),e===_e.SessionStart&&d?this._startTimer():e!==_e.SessionComplete&&e!==_e.SessionEnd||this._stopTimer()}else this._logger.warn("Dropping the call as the tracker instance is already destroyed")}},{key:"_startTimer",value:function(){var e=this;this._timer||(this._timer=M((function(){e._onTick()}),500))}},{key:"_stopTimer",value:function(){var e;this._timer&&(e=this._timer,clearInterval(e),this._timer=null)}},{key:"_onTick",value:function(){E()-this._lastEventTS>750&&this._trackInternal(_e.PlayheadUpdate,this._lastPlayheadParams,null,!0)}}]),e}(),Je=new ne,Xe=l();var Ye={configure:function(e){Je.configure(e)},getInstance:function(e){var t="tracker"+Xe.getUniqueId();return new $e(Je,t,e)},createMediaObject:function(e,t,a,i,r){var n=null;try{n=new le({id:t,name:e,streamType:i,mediaType:r,length:a}).serialize()}catch(e){fe.error("Error creating MediaObject ("+e.message+")")}return n},createAdBreakObject:function(e,t,a){var i=null;try{i=new oe({name:e,position:t,startTime:a}).serialize()}catch(e){fe.error("Error creating AdBreakObject ("+e.message+")")}return i},createAdObject:function(e,t,a,i){var r=null;try{r=new se({id:t,name:e,position:a,length:i}).serialize()}catch(e){fe.error("Error creating AdObject ("+e.message+")")}return r},createChapterObject:function(e,t,a,i){var r=null;try{r=new de({name:e,position:t,length:a,startTime:i}).serialize()}catch(e){fe.error("Error creating ChapterObject ("+e.message+")")}return r},createQoEObject:function(e,t,a,i){var r=null;try{r=new he({bitrate:e,droppedFrames:i,fps:a,startupTime:t}).serialize()}catch(e){fe.error("Error creating QoEObject ("+e.message+")")}return r},createStateObject:function(e){var t=null;try{t=new ue({name:e}).serialize()}catch(e){fe.error("Error creating StateObject ("+e.message+")")}return t},version:"js-3.0.1",Event:h,MediaType:p,PlayerState:m,StreamType:y,MediaObjectKey:f,VideoMetadataKeys:_,AudioMetadataKeys:v,AdMetadataKeys:k};var et="ecid",tt="analytics",at="mediaanalytics",it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var a,n=(a=s,function(){var e,t=o(a);if(c()){var i=o(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return u(this,e)});function s(e,a){var i;if(t(this,s),i=n.call(this),!e)throw new Error("Valid appmeasurement instance is required");if(!e.visitor)throw new Error("Valid visitor instance is required");return i._mediaConfig=a,i._appMeasurement=e,i._appMeasurementReady=!1,i._privacyResolved=!1,i._logger=R("WebECResolver"),i._fetchECParams(),i._fetchPrivacyStatus(),i._setupResolver(),i}return i(s,[{key:"resolveKeys",value:function(e){if(!e||0===e.length)return{};for(var t={},a=0;a<e.length;a++){var i=e[a],r=Object.prototype.hasOwnProperty.call(this._fnMap,i)?this._fnMap[i].call(this):null;S(r)||(t[i]=r)}return t}},{key:"getPrivacyStatus",value:function(){return this._privacyStatus[at]}},{key:"notifyPrivacyChange",value:function(e){this._mediaPrivacyClb.push(e)}},{key:"isReady",value:function(){return!!this._privacyResolved&&(this._privacyStatus[at]===g.OptIn&&(this._privacyStatus[tt]!==g.OptIn||this._appMeasurementReady))}},{key:"_setupResolver",value:function(){var e=this,t={};t[B.Rsid]=function(){return e._appMeasurement.account},t[B.AnalyticsTrackingServer]=function(){return e._appMeasurement.ssl&&e._appMeasurement.trackingServerSecure?e._appMeasurement.trackingServerSecure:e._appMeasurement.trackingServer},t[B.AnalyticsSsl]=function(){return e._appMeasurement.ssl},t[B.Vid]=function(){return e._appMeasurement.visitorID},t[B.Aid]=function(){var t=e._appMeasurement.analyticsVisitorID;if(""!==t)return t},t[B.Mcid]=function(){return e._appMeasurement.marketingCloudVisitorID},t[B.McOrgId]=function(){return e._appMeasurement.visitor.marketingCloudOrgID},t[B.AamLocHint]=function(){var t=parseInt(e._appMeasurement.audienceManagerLocationHint,10);return isNaN(t)?void 0:t},t[B.CustomerIds]=function(){return e._appMeasurement.visitor.getCustomerIDs()},t[B.MediaTrackingServer]=function(){return e._mediaConfig.trackingServer},t[B.MediaChannel]=function(){return e._mediaConfig.channel},t[B.MediaAppVersion]=function(){return e._mediaConfig.appVersion},t[B.MediaPlayerName]=function(){return e._mediaConfig.playerName},t[B.MediaSsl]=function(){return e._mediaConfig.ssl},this._fnMap=t}},{key:"_fetchECParams",value:function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[])}},{key:"_onAppMeasurementReady",value:function(){this._logger.log("AppMeasurement ready"),this._appMeasurementReady=!0}},{key:"_fetchPrivacyStatus",value:function(){var e,t=this;this._mediaPrivacyClb=[],this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0;var a=this._optIn&&this._optIn.doesOptInApply,i=a?g.OptUnknown:g.OptIn;this._privacyStatus=(r(e={},et,i),r(e,tt,i),r(e,at,i),e),a?this._optIn.fetchPermissions((function(){t._privacyResolved=!0,t._privacyStatus[et]=t._optIn.isApproved(t._optIn.Categories.ECID)?g.OptIn:g.OptOut,t._privacyStatus[tt]=t._optIn.isApproved(t._optIn.Categories.ANALYTICS)?g.OptIn:g.OptOut,t._privacyStatus[at]=t._optIn.isApproved(t._optIn.Categories.MEDIA_ANALYTICS)?g.OptIn:g.OptOut,t._mediaPrivacyClb.forEach((function(e){e(t._privacyStatus[at])})),t._logger.log("Privacy Status "+pe(t._privacyStatus))}),!0):(this._privacyResolved=!0,this._logger.log("OptIn service not used, defaulting privacy status to "+pe(this._privacyStatus)))}}]),s}(function(){function e(){t(this,e)}return i(e,[{key:"resolveKeys",value:function(){throw new Error("Implementation error: Method must be overridden.")}},{key:"isReady",value:function(){}},{key:"getPrivacyStatus",value:function(){}},{key:"notifyPrivacyChange",value:function(){}}]),e}()),rt=R("Media"),nt=!1;return{Media:s({},Ye,{configure:function(e,t){if(T(e||{}),nt)rt.error("MediaSDK is already configured");else{rt.log("configure("+pe(e)+")");try{!function(e){if(!J(e))throw new Error("mediaConfig is not a valid object");var t=e.trackingServer;if(!b(t))throw new Error("trackingServer is empty");if(-1!==t.indexOf("hb.omtrdc.net"))throw new Error("trackingServer should be set to Media collection endpoint and not heartbeat endpoint. Contact your Adobe representative for more information.")}(e);var a=new it(t,e);Ye.configure(a),nt=!0}catch(e){rt.error("Error configuring MediaSDK : "+e.message),T({debugLogging:!1})}}},getInstance:function(e){return nt?Ye.getInstance(e):(rt.error("MediaSDK should be configured before calling getInstance"),null)}}),MediaConfig:function e(){t(this,e),this.trackingServer=void 0,this.channel=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!0,this.debugLogging=!1}}}));if(typeof(s)==="object"&&typeof(jQuery)!='undefined'){var Media=ADB.Media;var MediaConfig=ADB.MediaConfig;var mediaConfig=new MediaConfig();mediaConfig.trackingServer="coxcommunications.hb-api.omtrdc.net";mediaConfig.playerName="YouTube Player";mediaConfig.channel='Cox';mediaConfig.debugLogging=true;mediaConfig.appVersion="1.0";mediaConfig.ssl=true;mediaConfig.ovp="Youtube";var isTracking={};var playheadListener={};var tracker={};Media.configure(mediaConfig,s);function startSessionIfNecessary(player){var videoInfo=player.getVideoData();if(isTracking[videoInfo.video_id]){return;}
var name=!!videoInfo.title?videoInfo.title:"unknown";var mediaInfo=Media.createMediaObject(name,videoInfo.video_id,player.getDuration(),Media.StreamType.VOD,Media.MediaType.Video);var metadata={};tracker[videoInfo.video_id]=Media.getInstance();tracker[videoInfo.video_id].trackSessionStart(mediaInfo,metadata);playheadListener[videoInfo.video_id]=setInterval(function(){tracker[videoInfo.video_id].updatePlayhead(player.getCurrentTime());},500);isTracking[videoInfo.video_id]=true;}
jQuery(window).on("onStateChange",function(e,eventData){var tempPlayer=eventData.target;console.log("Player state:"+eventData.data);var tempVideoID=tempPlayer.getVideoData().video_id;if(eventData.data==YT.PlayerState.ENDED){tracker[tempVideoID].trackComplete();clearInterval(playheadListener[tempVideoID]);isTracking[tempVideoID]=false;}else if(eventData.data==YT.PlayerState.PLAYING){startSessionIfNecessary(tempPlayer);tracker[tempVideoID].trackPlay();}else if(eventData.data==YT.PlayerState.PAUSED){startSessionIfNecessary(tempPlayer);tracker[tempVideoID].trackPause();}else if(eventData.data==YT.PlayerState.CUED&&isTracking[tempVideoID]){tracker[tempVideoID].trackSessionEnd();clearInterval(playheadListener[tempVideoID]);isTracking[tempVideoID]=false;}});}else console.log("Video: AppMeasurment Object not found");try{(function(id,loader){window.utag.tagsettings=window.utag.tagsettings||{};window.utag.tagsettings.adobe=window.utag.tagsettings.adobe||{};var vAPI=window.utag.tagsettings.adobe.visitorAPI=window.utag.tagsettings.adobe.visitorAPI||(function(){return{getInstance:function(orgID,callback){if(orgID){utag.DB("["+u.id+"] OrgID used, but no 'Adobe Marketing Cloud ID Service' tag detected");}
return callback();}};}());var u={"id":id};u.queue=[];utag.o[loader].sender[id]=u;u.ev={'view':1,'link':1,'video':1};u.o=s;u.varlist={pageName:'pageName',channel:'ch',campaign:'v0',hier1:'h1',hier2:'h2',hier3:'h3',hier4:'h4'};for(var i=1;i<76;i++){u.varlist['prop'+i]='c'+i;u.varlist['eVar'+i]='v'+i;}
u.combineLinkVar=false;u.pushlt=function(l,v){if(typeof l!="undefined")l.push(v)};if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.typeCheck=function(linkTrack,type){if(u.typeOf(linkTrack)==="string"){u[type]=linkTrack.split(",");}else if(u.typeOf(linkTrack)==="array"){u[type]=linkTrack;}else{u[type]=[];}}
u.map={"sc_account":"s_account","dom.domain":"server","channel":"channel","pageName":"eVar46,pageName","pageType":"prop8","pageType:cart":"scView","pageType:checkout":"scCheckout","pageType:product":"prodView","eventNames:cartAdd":"scAdd","eventNames:cartRemove":"scRemove","eventNames:cartSave":"event27","eventNames:cartSwap":"event26","eventNames:checkCbServicability":"event22","eventNames:contactUs":"event56","eventNames:downloadFile":"event3","eventNames:featureUsage":"event57","eventNames:guidedHelpSuccess":"event67","eventNames:leadForm":"event4","eventNames:moveServiceForm":"event1","eventNames:navigate":"event51","eventNames:offerCompleted":"event63","eventNames:productView":"event16","eventNames:rateExperience":"event66","eventNames:selfHelp":"event47","eventNames:siteError":"event29","eventNames:toolComplete":"event7","eventNames:toolStart":"event6","eventNames:userRegister":"event2","eventNames:chatButtonActive":"event87","eventNames:chatInviteDisplayed":"event81","eventNames:chatInviteAccepted":"event82","eventNames:chatInviteDeclined":"event83","eventNames:chatButtonPassive":"event88","eventNames:chatInteractive":"event85","eventNames:chatClosed":"event86","eventNames:autotrack":"event45","eventNames:boxHitSuccess":"event122","eventNames:boxHitFeedback":"event123","eventNames:boxHitError":"event124","eventNames:boxRefreshContactUs":"event125","eventNames:boxRefreshTooManyHits":"event126","eventNames:boxHitTryAgain":"event127","eventNames:apptRescheduleSuccess":"event118","eventNames:apptRescheduleFail":"event119","eventNames:apptCancelSuccess":"event120","eventNames:apptCancelFail":"event121","eventNames:contourSettingRenameSuccess":"event128","eventNames:contourResetPinSuccess":"event131","eventNames:modemRefreshSuccess":"event137","eventNames:modemRefreshError":"event138","eventNames:modemRefreshTooManyHits":"event139","eventNames:videoStart":"event149","eventNames:videoComplete":"event150","eventNames:video25":"event152","eventNames:video50":"event153","eventNames:video75":"event154","eventNames:npsSurvey":"event11","eventNames:voiceButtonClicked":"event165","eventNames:voiceButtonActive":"event166","eventNames:voiceButtonPassive":"event167","eventNames:modalTriggeredUser":"event174","eventNames:modalTriggeredSystem":"event175","eventNames:ticketCreationStep2":"event250","eventNames:ticketCreationStep3":"event251","eventNames:ticketCreationStep4":"event252","eventNames:ticketCreationStepSubmit":"event253","eventNames:ticketCreationConfirmed":"event254","eventNames:regValidationAddress":"event163","eventNames:regValidationAccount":"event164","eventNames:regPaperless":"event162","eventNames:regMailBill":"event161","eventNames:forgotPasswordSendEmail":"event171","eventNames:forgotPasswordSecretQuestion":"event172","eventNames:SelfInstallActivationSuccess":"event134","eventNames:SelfInstallActivationFailure":"event135","eventNames:promiseToPayPayment":"event181","eventNames:promiseToPayPaymentFail":"event182","eventNames:promiseToPayExtendDate":"event183","eventNames:promiseToPayExtendDateFail":"event184","eventNames:regValidationPhone":"event185","eventNames:regValidationPhoneVerifiedText":"event186","eventNames:regValidationPhoneVerifiedCall":"event187","eventNames:activeAddress":"event116","eventNames:ppvOrder":"event109","eventNames:orderPending":"event200","customLinkType:campcode":"event34","customLinkType:navigate":"event51","_retrieveCart:1":"event176","purchaseStep":"prop23","purchaseStep:byob":"event8","purchaseStep:campaign":"event16","purchaseStep:cart":"scView","purchaseStep:checkout":"scCheckout","purchaseStep:gig lead order":"event70","purchaseStep:gig lead":"event69","purchaseStep:gig shop order":"event64","purchaseStep:gig shop":"event68","purchaseStep:offer":"event16","purchaseStep:order details":"event58","purchaseStep:order history":"event72","purchaseStep:order":"purchase","purchaseStep:shop":"event15","purchaseStep:status":"event71","purchaseStep:transfer":"event65","purchaseStep:upgrade":"event18","purchaseStep:welcome":"event24","purchaseStep:features":"event25","campaignCodeInternalList":"list1","dom.query_string":"hier2","_productOfferSelected":"eVar17","_scFormError":"list3","selfHelpName":"eVar1,prop4","downloadName":"eVar2","_finalSearchTerm":"eVar3,prop36","windowViewType":"prop2","businessUnit":"prop3","toolName":"eVar4,prop19","_psuReplaced":"eVar5","_visitorTypeCode":"prop5,eVar6","siteID":"eVar7,prop1","_page":"prop7","navigationLinkName":"eVar8,prop6","_productPSUID":"prop9","_customLinkName":"prop10,eVar16","campaignCodeInternal":"eVar10","timeParting":"eVar11","_offerReplaced":"eVar12","language":"prop12","emailMessageID":"eVar13","scrollPercentage":"prop14","previous_page_name":"eVar14,prop15","_productOfferName":"eVar15,prop13","dom.pathname":"prop16","pageURL":"prop16","productTabView":"prop17","chatID":"eVar18","_ppcParameters":"eVar19,prop20","_selfInstall":"eVar21","_pageLoadTime":"prop21","promoCode":"eVar22","_addToCartDate":"PRODUCTS_eVar23","_cartMetrics":"eVar24","_formattedDate":"eVar25","_cbTypeFinal":"eVar27","_siteType":"prop28","_dumFinal":"eVar28","categoryCarted":"prop29","categoryPurchased":"prop30","categorySubscribed":"prop31","_depositMetrics":"eVar31","categoryViewed":"prop32","campaign":"campaign,eVar29","purchaseID":"eVar32,purchaseID,txnID","_productViewedPlusOne":"eVar33","productFindingMethod":"eVar34","modalName":"prop35","_crossSellingDrivers":"PRODUCTS_eVar35","chatEngagementName":"eVar36","searchResults":"eVar37","_searchPagePlusOne":"eVar39","responsiveDisplayType":"eVar40","_siteSection1":"eVar41,hier1,prop7","_productTotalPSURatio":"eVar43","productSubscribed":"eVar44,list2","onlineFeatureUsed":"eVar45,prop27","_myWiFiModem":"prop33","npsScore":"eVar47","iPerceptionsID":"eVar48","zip":"eVar49","_productSubscribedPSUs":"eVar50","articleID":"eVar53,prop18","experienceRating":"eVar54","_urlLocation":"prop24","interface":"prop25","_offerOriginPageModalAction":"prop34,eVar30","shopFilterUsed":"eVar55,prop26","_mobileDevice":"prop37","pageOrModalName":"prop38","_flowFinal":"prop40,eVar42","emailRecipientID":"eVar56","_savedCartStatus":"eVar57","_ppvFinal":"eVar58","_moveCBServiceType":"eVar59","_moveResServiceType":"eVar60","cidm":"eVar61","_cbIDFinal":"eVar62","leadReferralType":"eVar63","_amountBillFinal":"eVar64","serviceableCodesSelected":"eVar65","cbDnbCompanyAttributes":"prop73","cbDBCompanyAttributes":"prop74","adobeCodeVersion":"prop75","cbDBCompanyFirmographics":"eVar73","_cbGuid":"eVar74","adobeMarketingCloudID":"eVar75","_order_productTotalDueNowPortion":"PRODUCTS_event21","_order_productPSU":"PRODUCTS_event23","_cartAdd_productPSU":"PRODUCTS_event30","_checkout_productPSU":"PRODUCTS_event31","_checkout_productMRCSavings":"PRODUCTS_event32","_cartAdd_productMRCSavings":"PRODUCTS_event36","_order_productMRCSavings":"PRODUCTS_event37","_order_productOneTimeCharge":"PRODUCTS_event39","_order_productInstallCharge":"PRODUCTS_event41","_order_productInstallChargeSavings":"PRODUCTS_event42","_productMRCCartAdd":"PRODUCTS_event43","_productMRCCheckout":"PRODUCTS_event44","_order_productNewPSU":"PRODUCTS_event46","_order_productDepositAmount":"PRODUCTS_event50","_order_productOneTimeChargeSavings":"PRODUCTS_event53","_order_productBundleDiscountMonths":"PRODUCTS_event54","_order_productBundleDiscount":"PRODUCTS_event55","_cyfOfferExpandedEvent":"PRODUCTS_event62","_cyfOfferCompletedEvent":"PRODUCTS_event63","_cartadd_productBundleDiscount":"PRODUCTS_event73","_order_productUptierPSU":"PRODUCTS_event94","_checkout_productBundleDiscount":"PRODUCTS_event74","_alertEvent":"PRODUCTS_event136","_cartadd_productNewPSU":"PRODUCTS_event110","_cartadd_productUptierPSU":"PRODUCTS_event111","_checkout_productNewPSU":"PRODUCTS_event112","_checkout_productUptierPSU":"PRODUCTS_event113","qp.accid":"eVar69","qp.acrid":"eVar70","qp.acsid":"eVar71","_idmTime":"prop70","chatOrderIncrementalOfferMRC":"VALUE_event108","chatAgentID":"eVar26","serviceableCodesSelectedTE":"eVar72","_productOfferAttributes":"eVar38","_transferOrder:1":"event12","qp.acbid":"eVar76","chatProvider":"eVar200","_timeVisitID":"prop71","_cbSalesforceConnectFinal":"prop72","_cbPurchaseIDFinal":"eVar51","customerSegments":"eVar78","netRevenue":"VALUE_event40","disconnectNetRevenue":"VALUE_event140","qp.ccode":"eVar80"};u.extend=[function(a,b){try{if((b['_isCampCodeLink']=='1'&&typeof b['campaignCodeInternal']!='undefined'&&b['campaignCodeInternal']!='')){try{b['campaignCodeInternal']=utag.ut.qp(b['_linkObject'].attr("href")).campcode}catch(e){};try{b['campaignCodeInternalList']=[b.campaignCodeInternal]}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['campaignCodeInternalList']!='undefined'&&b['campaignCodeInternalList']!=''&&b['customLinkType']!='campcode')){try{b['sc_events']=u.addEvent('event33')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['cp.utag_main_offer_origin_checkout']=='undefined'){utag.loader.SC('utag_main',{'offer_origin_checkout':'unknown'+';exp-session'});b['cp.utag_main_offer_origin_checkout']='unknown';}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{b['_offer_origin_section']=utag.loader.RC('utag_main')['offer_origin']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['purchaseStep']!='undefined'&&b['purchaseStep']=='checkout'&&typeof b['_offer_origin_section']!='undefined'&&b['_offer_origin_section']!='')||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartAdd')>-1&&typeof b['purchaseStep']!='undefined'&&b['purchaseStep']=='features')){utag.loader.SC('utag_main',{'offer_origin_checkout':b['_offer_origin_section']+';exp-session'});b['cp.utag_main_offer_origin_checkout']=b['_offer_origin_section'];}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{b['cp.utag_main_offer_origin']=utag.loader.RC('utag_main')['offer_origin']}catch(e){};try{b['cp.utag_main_offer_origin_checkout']=utag.loader.RC('utag_main')['offer_origin_checkout']}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{b['_ccat']=[]}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['purchaseStep']=='order'||b['purchaseStep']=='gig shop order'){try{b['_cartMetrics']=Math.round(b.productTotalOfferMRC).toString()+":"+Math.round(b.productDepositAmount).toString()+":"+Math.round(b.productTotalDueNow).toString()}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(b['purchaseStep']=='checkout'||b['purchaseStep']=='order'||b['purchaseStep']=='features'||b['purchaseStep']=='gig shop order'){c=[b['productTotalPSUs'],b['_productTotalUptierPSUs'],b['_productTotalNewPSUs']];b['_productTotalPSURatio']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){if(utag.cfg.utagdb){s.debugTracking=true;}},function(a,b,c,d,e,f,g){if(1){d=b['dom.domain'];if(typeof d=='undefined')return;c=[{'qa':'cox-avalanche-dev'},{'local':'cox-avalanche-dev'},{'dev':'cox-avalanche-dev'},{'webteam.cci.cox.com':'cox-avalanche-dev'},{'preprod':'cox-avalanche-dev'},{'preview':'cox-avalanche-dev'},{'test.cox.com':'cox-avalanche-dev'},{'staging':'cox-avalanche-dev'},{'uat':'cox-avalanche-dev'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d.toString().indexOf(f)>-1){b['sc_account']=c[e][f];m=true};};if(m)break};if(!m)b['sc_account']='cox-avalanche-prod';}},function(a,b){try{if((b['dom.domain']=='www.cox.com'&&typeof b['pageName']!='undefined'&&b['pageName'].toString().indexOf('testing-for-performance')>-1)||(typeof b['pageType']!='undefined'&&typeof b['pageType']!='undefined'&&b['pageType']==''&&b['_utag_event']=='view')||(typeof b['pageName']!='undefined'&&b['pageName'].toString().indexOf('pega-test')>-1)||(typeof b['pageName']=='undefined'&&b['dom.domain']=='www.cox.com'&&b['dom.pathname'].toString().indexOf('/business/')>-1&&b['_utag_event']=='view')){b['sc_account']='cox-avalanche-dev'}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['orderSavedCartStatus']!='undefined'&&b['orderSavedCartStatus']!=''&&typeof b['orderSavedCartStatusOriginator']!='undefined'&&b['orderSavedCartStatusOriginator']!='')){c=[b['orderSavedCartStatus'],b['orderSavedCartStatusOriginator']];b['_savedCartStatus']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['cbVisitorGEMSServiceability']!='undefined'&&b['cbVisitorGEMSServiceability']!=''&&typeof b['cbHasActiveICOMS']!='undefined'&&b['cbHasActiveICOMS']!='')){c=[b['cbHasActiveICOMS'],b['cbVisitorGEMSServiceability']];b['_moveCBServiceType']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['searchTerm']!='undefined'&&b['searchTerm']!=''){try{b['sc_events']=u.addEvent('event5')}catch(e){};b['_searchPagePlusOne']='+1';try{b['_finalSearchTerm']=jQuery.trim(b.searchTerm.replace(/\+|%2B/g,' '))}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartAdd')>-1&&typeof b['_hasCart']=='undefined')){try{b['sc_events']=u.addEvent('scOpen')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartAdd')>-1)){try{b['sc_events']=u.addEvent("scAdd")}catch(e){};b['_productMRCCartAdd']=b['productMRC'];b['_addToCartDate']=b['_formattedDate'];b['_cartAdd_productPSU']=b['productPSU'];b['_cartAdd_productMRCSavings']=b['productMRCSavings'];b['_productOfferName']=b['productOfferName'];b['_cartadd_productBundleDiscount']=b['_productBundleDiscountPortion'];b['_cartadd_productNewPSU']=b['_productNewPSU'];b['_cartadd_productUptierPSU']=b['_productUptierPSU'];b['ga_eventNames']='cartAdd'}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartSave')>-1)){try{b['sc_events']=u.addEvent("event27")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartSwap')>-1)){try{b['sc_events']=u.addEvent("event26")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('productView')>-1)){try{b['sc_events']=u.addEvent("prodView")}catch(e){};b['_productViewedPlusOne']='+1'}}catch(e){utag.DB(e);}},function(a,b){try{if(b['purchaseStep']=='checkout'){b['_productMRCCheckout']=b['productMRC'];b['_checkout_productPSU']=b['productPSU'];b['_checkout_productMRCSavings']=b['productMRCSavings'];b['_productOfferName']=b['productOfferName'];b['_checkout_productBundleDiscount']=b['_productBundleDiscountPortion'];b['_checkout_productNewPSU']=b['_productNewPSU'];b['_checkout_productUptierPSU']=b['_productUptierPSU']}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['shopFilterUsed']!='undefined'&&b['shopFilterUsed']!=''){try{b['sc_events']=u.addEvent("event60")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['purchaseStep']=='order'||b['purchaseStep']=='gig shop order'){b['_order_productOfferMRC']=b['productOfferMRC'];b['_order_productOfferMRCSavings']=b['productMRCSavings'];b['_order_productOfferMonths']=b['productOfferMonths'];b['_order_productOneTimeCharge']=b['productOneTimeCharge'];b['_order_productInstallChargePro']=b['productInstallChargePro'];b['_order_productInstallChargeSelfDropShip']=b['productInstallChargeSelfDropShip'];b['_order_productInstallChargeSelfPickUp']=b['productInstallChargeSelfPickUp'];b['_order_productInstallChargeProSavings']=b['productInstallChargeProSavings'];b['_order_productInstallChargeSelfDropShipSavings']=b['productInstallChargeSelfDropShipSavings'];b['_order_productInstallChargeSelfPickUpSavings']=b['productInstallChargeSelfPickUpSavings'];b['_order_productOneTimeChargeSavings']=b['productOneTimeChargeSavings'];b['_order_productBundleDiscountMonths']=b['productBundleDiscountMonths'];b['_order_productBundleDiscount']=b['_productBundleDiscountPortion'];b['_order_productMRCSavings']=b['productMRCSavings'];b['_order_productInstallCharge']=b['productInstallCharge'];b['_order_productPSU']=b['productPSU'];b['_order_productInstallChargeSavings']=b['productInstallChargeSavings'];b['_productOfferName']=b['productOfferName'];b['_order_productDepositAmount']=b['_productDepositAmountPortion'];b['_order_productTotalDueNowPortion']=b['_productTotalDueNowPortion'];b['_order_productNewPSU']=b['_productNewPSU'];b['_order_productUptierPSU']=b['_productUptierPSU'];b['productTotalOfferMRC_purchase']=b['productTotalOfferMRC'];b['_order_productTotalMRC']=b['productTotalMRC']}}catch(e){utag.DB(e);}},function(a,b){if(b.purchaseStep=="shop"&&b.productOfferID&&b.productOfferMonths&&b.productOfferMRC&&b.productOfferName&&b.productOfferSavings){b._productOffersShown=[];for(var c=0;c<b.productOfferID.length;c++){var tmp=[b['cp.utag_main_offer_origin_checkout']];tmp.push(b.productOfferID[c]);tmp.push(b.productOfferName[c]);tmp.push(b.productOfferMRC[c]);tmp.push(b.productOfferMonths[c]);tmp.push(b.productOfferSavings[c]);b._productOffersShown.push(tmp.join(':'));}
b._productOffersShown=b._productOffersShown.join(',');}
if(typeof b._productOffersShown!=='undefined'){if(purchaseStep=="shop"){u.addEvent('event35');}
}},function(a,b){if((b.purchaseStep=="checkout"||b.purchaseStep=="order"||b.purchaseStep=='gig shop order'||b.eventNames.indexOf("cartAdd")>=0)&&b.productOfferID&&b.productOfferMonths&&b.productOfferMRC&&b.productOfferName&&b.productOfferSavings){b._productOfferSelected=[];for(var c=0;c<b.productOfferID.length;c++){var tmp=[b['cp.utag_main_offer_origin_checkout']];tmp.push(b.productOfferID[c]);tmp.push(b.productOfferName[c]);tmp.push(b.productOfferMRC[c]);tmp.push(b.productOfferMonths[c]);tmp.push(b.productOfferSavings[c]);b._productOfferSelected.push(tmp.join(':'));}
b._productOfferSelected=b._productOfferSelected.join(',');}
if(typeof b._productOfferSelected!=='undefined'){if(b.eventNames.indexOf("cartAdd")>=0){u.addEvent("event38");}}},function(a,b){if(b.eventNames=='siteError'&&b.formID&&b.formErrorFields&&b.formErrorValues){b._formErrors=[];for(var c=0;c<b.formErrorFields.length;c++){var tmp=[];tmp.push(b.formID);tmp.push(b.formErrorFields[c]);tmp.push(b.formErrorValues[c]);b._formErrors.push(tmp.join(':'));}}},function(a,b){if(b.eventNames&&b.eventNames.indexOf('cartAdd')>-1&&b.productOfferID&&b.productOfferName&&b.productOfferMRC&&b.productOfferMonths&&b.productOfferSavings){b._crossSellingDrivers=[b['cp.utag_main_offer_origin']];for(var c=0;c<b.productOfferID.length;c++){var tmp=[];tmp.push(b.productOfferID instanceof Array&&b.productOfferID[c]?b.productOfferID[c]:'null');tmp.push(b.productOfferName instanceof Array&&b.productOfferName[c]?b.productOfferName[c]:'null');tmp.push(b.productOfferMRC instanceof Array&&b.productOfferMRC[c]?b.productOfferMRC[c]:'null');tmp.push(b.productOfferMonths instanceof Array&&b.productOfferMonths[c]?b.productOfferMonths[c]:'null');tmp.push(b.productOfferSavings instanceof Array&&b.productOfferSavings[c]?b.productOfferSavings[c]:'null');b._crossSellingDrivers.push(tmp.join(':'));}
b._crossSellingDrivers=b._crossSellingDrivers.join('_');}},function(a,b){try{if(b['cp.utag_main_scid_referrer']=='1'){try{b['sc_events']=u.addEvent("event20")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['dom.query_string'].toString().indexOf('sc_id=')<0){utag.loader.SC('utag_main',{'scid_referrer':'0'+';exp-session'});b['cp.utag_main_scid_referrer']='0';}}catch(e){utag.DB(e);}},function(a,b){try{if(b['dom.query_string'].toString().toLowerCase().indexOf('sc_id='.toLowerCase())>-1){utag.loader.SC('utag_main',{'scid_referrer':'1'+';exp-session'});b['cp.utag_main_scid_referrer']='1';}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('toolComplete')>-1)){try{b['sc_events']=u.addEvent('event7')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['campaign']!='undefined'&&typeof b['campaign']!='undefined'&&b['campaign']!='')){try{b['sc_events']=u.addEvent('event17')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('offerExpanded')>-1&&typeof b['nextAccordionSection']!='undefined'&&b['nextAccordionSection']!='')){try{b['_void']=b._cprod.push(b.nextAccordionSection)}catch(e){};try{b['_void']=b._cyfOfferExpandedEvent_tmp.push('1')}catch(e){};try{b['_void']=b._cyfOfferCompletedEvent_tmp.push('0')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('offerExpanded')>-1&&typeof b['thisAccordionSection']!='undefined'&&b['thisAccordionSection']!='')){try{b['_void']=b._cprod.push(b.thisAccordionSection)}catch(e){};try{b['_void']=b._cyfOfferExpandedEvent_tmp.push('0')}catch(e){};try{b['_void']=b._cyfOfferCompletedEvent_tmp.push('1')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['_cyfOfferCompletedEvent_tmp']!='undefined'&&b['_cyfOfferCompletedEvent_tmp'].toString().indexOf('1')>-1)){b['_cyfOfferCompletedEvent']=b['_cyfOfferCompletedEvent_tmp']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['_cyfOfferExpandedEvent_tmp']!='undefined'&&b['_cyfOfferExpandedEvent_tmp'].toString().indexOf('1')>-1)){b['_cyfOfferExpandedEvent']=b['_cyfOfferExpandedEvent_tmp']}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['qp.srchkw']!='undefined'&&b['qp.srchkw']!=''){try{b['qp.srchkw']=b['qp.srchkw'].replace(/\+/g,' ')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['qp.srchcampaign']!='undefined'&&b['qp.srchcampaign']!=''){try{b['qp.srchcampaign']=b['qp.srchcampaign'].replace(/\+/g,' ')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['qp.srchcampaign']!='undefined'&&b['qp.srchcampaign']!=''&&b['_utag_event']=='view')||(typeof b['qp.srchkw']!='undefined'&&b['qp.srchkw']!=''&&b['_utag_event']=='view')){c=[b['qp.srchcampaign'],b['qp.srchkw']];for(d=0;d<c.length;d++){if(typeof c[d]=='undefined'||c[d]=='')c[d]='unknown'};b['_ppcParameters']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['_ppcParameters']!='undefined'&&b['_ppcParameters']!=''){try{b['sc_events']=u.addEvent("event91")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){if(b.eventNames=="autotrack"&&b['pageName'].indexOf("myconnection")>=0)
return false},function(a,b){b._pageLoadTime='';if(typeof(performance)!=='undefined'&&typeof(performance.timing)=='object'){var timing=performance.timing;var startTime=performance.timing.redirectStart||performance.timing.fetchStart||performance.timing.requestStart;var endTime=performance.timing.domContentLoadedEventEnd||performance.timing.domInteractive||performance.timing.domComplete||performance.timing.loadEventComplete;if(startTime&&endTime&&(startTime<endTime)){b._pageLoadTime=(endTime-startTime);if(b._pageLoadTime>600000){b._pageLoadTime='data not available';}}}else{b._pageLoadTime='data not available';}},function(a,b){if(b["ut.event"]=='view'){for(var i=0;i<jQuery(("div[data-reporting-id*='alert:']")).length;i++){b._cprod.push(jQuery.trim($(("div[data-reporting-id*='alert:']")).attr('data-reporting-id')));b._alertEvent='1';}}},function(a,b){try{if(typeof b['qp.directhit']!='undefined'&&b['qp.directhit']!=''){try{b['sc_events']=u.addEvent('event145')}catch(e){};b['_searchPagePlusOne']='+1';try{b['_finalSearchTerm']=jQuery.trim(b["qp.kw"].replace(/\+|%2B/g,' '))}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['modemMyWifi']!='undefined'&&b['modemMyWifi']!=''&&typeof b['modemModelNumber']!='undefined'&&b['modemModelNumber']!=''&&typeof b['modemSerialNumber']!='undefined'&&b['modemSerialNumber']!='')){c=[b['modemMyWifi'],b['modemModelNumber'],b['modemSerialNumber']];b['_myWiFiModem']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['selfHelpName']!='undefined'&&b['selfHelpName']!=''&&b['eventNames']!='selfHelp')){try{b['sc_events']=u.addEvent('event47')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){b._scFormError=(function(w,utag,b,a,type,field_id,form_id,error_id){if(utag.ut.typeOf(w.udoFormErrors)==='array'&&w.udoFormErrors.length>0){a=[];for(var i=0;i<w.udoFormErrors.length;i++){type='client';field_id=w.jQuery(w.udoFormErrors[i]['element']).attr('id')||'unknown';field_id=field_id.replace(/:/g,'');field_id=field_id.replace(/,/g,'');form_id=w.jQuery('#'+field_id).closest('form').attr('id')||'unknown';form_id=form_id.replace(/:/g,'');form_id=form_id.replace(/,/g,'');error_id=w.udoFormErrors[i]['method']||'unknown';error_id=error_id.replace(/:/g,'');error_id=error_id.replace(/,/g,'');a.push(type+':'+form_id+':'+field_id+':'+error_id);}
w.udoFormErrors=[];return a.join(',');}else if(utag.ut.typeOf(b.eventNames)==='string'&&b.eventNames.indexOf('serverFormError')>-1&&utag.ut.typeOf(b.formError)==='array'){a=[];for(var i=0;i<b.formError.length;i++){type='server';field_id='unknown';field_id=field_id.replace(/:/g,'');field_id=field_id.replace(/,/g,'');form_id='unknown';form_id=form_id.replace(/:/g,'');form_id=form_id.replace(/,/g,'');error_id=b.formError[i]||'unknown';error_id=error_id.replace(/:/g,'');error_id=error_id.replace(/,/g,'');a.push(type+':'+form_id+':'+field_id+':'+error_id);}
return a.join(',');}else{return undefined;}}(window,window.utag,b));if(utag.ut.typeOf(b._scFormError)==='string'){if(b._scFormError.substr(0,6)==='server'){if(b._scFormError==sessionStorage.getItem('serverError')){u.addEvent(['event147']);}else{sessionStorage.setItem('serverError',b._scFormError);u.addEvent(['event147']);}}else if(b._scFormError.substr(0,6)==='client'){if(b._scFormError==sessionStorage.getItem('clientError')){u.addEvent(['event146']);}else{sessionStorage.setItem('clientError',b._scFormError);u.addEvent(['event146']);}}}},function(a,b){try{if(1){try{b['adobeMarketingCloudID']=utag.data.adobeMarketingCloudID=(s.visitor.getMarketingCloudVisitorID()||'')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(s.tealium_added_Visitor_function===1){u.addEvent('event148')}}catch(e){}},function(a,b,c,d){try{if((typeof b['urlState']!='undefined'&&b['urlState']!=''&&typeof b['urlCity']!='undefined'&&b['urlCity']!='')){c=[b['urlState'],b['urlCity']];b['_urlLocation']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['depositCalculatedDeposit']=='undefined'){b['depositCalculatedDeposit']='unknown'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['depositEstimatedDeposit']=='undefined'){b['depositEstimatedDeposit']='unknown'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['depositPayNowDeposit']=='undefined'){b['depositPayNowDeposit']='unknown'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['depositRequired']=='undefined'){b['depositRequired']='unknown'}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(b['eventNames']=='checkoutDeposit'||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('orderDeposit')>-1)){c=[b['depositRequired'],b['depositEstimatedDeposit'],b['depositCalculatedDeposit'],b['depositPayNowDeposit']];b['_depositMetrics']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if((b['depositRequired']=='true'&&b['eventNames']=='checkoutDeposit')){try{b['sc_events']=u.addEvent('event160')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((b['depositEstimatedDeposit']!='unknown'&&b['eventNames']=='checkoutDeposit')){try{b['sc_events']=u.addEvent('event158')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((b['depositCalculatedDeposit']!='unknown'&&b['eventNames']=='checkoutDeposit')){try{b['sc_events']=u.addEvent('event159')}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d,e,f,g){if(b['pageName']=='cox:res:shop:checkout-installation'||b['pageName']=='cox:res:shop:wls-checkout-installation'||b['pageName']=='cox:res:shop:transfer-checkout-installation'||b['pageName']=='cox:res:shop:repackage-checkout-installation'){d=b['pageName'];if(typeof d=='undefined')return;c=[{'cox:res:shop:checkout-installation':'yes'},{'cox:res:shop:wls-checkout-installation':'yes'},{'cox:res:shop:transfer-checkout-installation':'yes'},{'cox:res:shop:repackage-checkout-installation':'yes'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['_selfInstallTrack']=c[e][f];m=true};};if(m)break};if(!m)b['_selfInstallTrack']='no';}},function(a,b){if(b._selfInstallTrack=='yes'&&b._utag_event=='view'){b._selfInstallAvailable=0;if(typeof b.serviceableCodes!=='undefined'){b._allowedServiceCodes=["SELF_INSTALL_CABLE_YES","SELF_INSTALL_CHSI_YES","SELF_INSTALL_TELEPHONE_YES","SELF_INSTALL_HOMESECURITY_YES"];for(var i=0;i<b._allowedServiceCodes.length;i++){if(b.serviceableCodes.indexOf(b._allowedServiceCodes[i])>-1){b._selfInstallAvailable++;}}}
b._selfInstallPresented=0;b._selfInstallPresented+=(jQuery('form.check-out-installation input[value="InstallationOption.SelfPickup"]').length>0?1:0);b._selfInstallPresented+=(jQuery('form.check-out-installation input[value="InstallationOption.SelfShip"]').length>0?1:0);b._selfInstallOrdered='unknown';b._selfInstall=b._selfInstallAvailable+':'+
b._selfInstallPresented+':'+
b._selfInstallOrdered;sessionStorage.setItem('_selfInstall',b._selfInstall);u.addEvent("event61");if(b._selfInstallAvailable>0){u.addEvent("event155");}
if(b._selfInstallPresented>0){u.addEvent("event156");}}
if(b.purchaseStep==='order'){b._selfInstall_temp=sessionStorage.getItem('_selfInstall').split(':');b._selfInstallAvailable=b._selfInstall_temp[0];b._selfInstallPresented=b._selfInstall_temp[1];delete b._selfInstall_temp
b._selfInstallOrdered=0;for(var i=0;i<b.productID.length;i++){if(b.productID[i].indexOf('SELF_INSTALL_')>-1){b._selfInstallOrdered=1;}}
b._selfInstall=b._selfInstallAvailable+':'+
b._selfInstallPresented+':'+
b._selfInstallOrdered;if(b._selfInstallOrdered>0){u.addEvent("event157");}}},function(a,b){try{if(typeof b['interface']=='undefined'){b['interface']='web'}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('paperlessSignUp')>-1&&b['eventNames'].toString().indexOf('paperlessSignUpFail')<0)){try{b['sc_events']=u.addEvent("event101")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('paperlessSignUpFail')>-1)){try{b['sc_events']=u.addEvent("event102")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('billPay')>-1&&b['eventNames'].toString().indexOf('billPayFail')<0)){try{b['sc_events']=u.addEvent("event95")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('billPayFail')>-1)){try{b['sc_events']=u.addEvent("event103")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(utag.data['ut.env']!=='prod'){utag.ut.site_cat.push(utag.handler.C(b));}}}catch(e){utag.DB(e)}},function(a,b,c,d){try{if(typeof b['userGuid']!='undefined'&&b['userGuid']!=''||typeof b['profileGuid']!='undefined'&&b['profileGuid']!=''||typeof b['accountGuid']!='undefined'&&b['accountGuid']!=''||typeof b['impersonateeUserGuid']!='undefined'&&b['impersonateeUserGuid']!=''){c=[b['userGuid'],b['profileGuid'],b['accountGuid'],b['impersonateeUserGuid']];b['_cbGuid']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(utag.data['ut.env']!=='prod'){s_account='cox-avalanche-dev';}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['cbLeadType']!='undefined'&&b['cbLeadType']!=''||typeof b['leadID']!='undefined'&&b['leadID']!=''||typeof b['ticketType']!='undefined'&&b['ticketType']!=''||typeof b['ticketId']!='undefined'&&b['ticketId']!=''){b['_cbLeadText']='cblead';b['_cbTicketText']='cbticket'}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['cbLeadType']!='undefined'&&b['cbLeadType']!=''){c=[b['_cbLeadText'],b['cbLeadType']];b['_cbTypeFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['ticketType']!='undefined'&&b['ticketType']!=''){c=[b['_cbTicketText'],b['ticketType']];b['_cbTypeFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['leadID']!='undefined'&&b['leadID']!=''){c=[b['_cbLeadText'],b['leadID']];b['_cbIDFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['ticketId']!='undefined'&&b['ticketId']!=''){c=[b['_cbTicketText'],b['ticketId']];b['_cbIDFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['dumUsage']!='undefined'&&typeof b['dumLimit']!='undefined'&&typeof b['dumUtilization']!='undefined'&&typeof b['dumDaysLeft']!='undefined')){c=[b['dumUsage'],b['dumLimit'],b['dumUtilization'],b['dumDaysLeft']];b['_dumFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b,c,d){c=['_finalSearchTerm','productFindingMethod','_productOfferName','campaignCodeInternal','_productOfferSelected','campaignCodeInternalList','_scFormError','campaign'];for(d=0;d<c.length;d++){try{b[c[d]]=b[c[d]]instanceof Array?b[c[d]]:b[c[d]]instanceof Object?b[c[d]]:b[c[d]].toString().toLowerCase()}catch(e){utag.DB(e);}}},function(a,b){try{if(typeof b['qp.retrieveCartEmail']!='undefined'&&b['qp.retrieveCartEmail']!=''){b['_retrieveCart']='1'}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('easyPaySignUp')>-1&&b['eventNames'].toString().indexOf('easyPaySignUpFail')<0)){try{b['sc_events']=u.addEvent("event177")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('easyPaySignUpFail')>-1)){try{b['sc_events']=u.addEvent("event178")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('paperSignUp')>-1&&b['eventNames'].toString().indexOf('paperSignUpFail')<0)){try{b['sc_events']=u.addEvent("event179")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('paperSignUpFail')>-1)){try{b['sc_events']=u.addEvent("event180")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['selfHelpName']!='undefined'&&b['selfHelpName'].toString().indexOf('idm:registration:start')>-1)){try{b['sc_events']=u.addEvent("event169")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['selfHelpName']!='undefined'&&b['selfHelpName'].toString().indexOf('idm:registration:complete')>-1)){try{b['sc_events']=u.addEvent("event170")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){b['_amountDueFinal']='unknown'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['amountDue']!='undefined'&&b['amountDue']!=''){try{b['_amountDueFinal']=Math.ceil(parseFloat(b.amountDue)*1)/1}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){b['_amountPastDueFinal']='unknown'}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['amountPastDue']!='undefined'&&b['amountPastDue']!=''){try{b['_amountPastDueFinal']=Math.ceil(parseFloat(b.amountPastDue)*1)/1}catch(e){}}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(b['_amountDueFinal']!='unknown'||b['_amountPastDueFinal']!='unknown'){c=[b['_amountDueFinal'],b['_amountPastDueFinal']];b['_amountBillFinal']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['cp.utag_main_offerOriginPage']=='undefined'){utag.loader.SC('utag_main',{'offerOriginPage':'unknown'+';exp-session'});b['cp.utag_main_offerOriginPage']='unknown';}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['cp.utag_main_offerOriginModal']=='undefined'){utag.loader.SC('utag_main',{'offerOriginModal':'unknown'+';exp-session'});b['cp.utag_main_offerOriginModal']='unknown';}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['cp.utag_main_offerOriginAction']=='undefined'){utag.loader.SC('utag_main',{'offerOriginAction':'page'+';exp-session'});b['cp.utag_main_offerOriginAction']='page';}}catch(e){utag.DB(e);}},function(a,b){try{if(b['purchaseStep']=='shop'||b['purchaseStep']=='byob'||b['purchaseStep']=='campaign'||b['purchaseStep']=='offer'||b['purchaseStep']=='grid'||b['purchaseStep']=='myaccount'||b['purchaseStep']=='ibill'||b['purchaseStep']=='support'||b['purchaseStep']=='upgrade'||b['purchaseStep']=='phonetools'||b['purchaseStep']=='mktg'||b['pageName']=='cox:res:homelife:homelife-advisor'||b['purchaseStep']=='repackage-bm'||b['purchaseStep'].toString().indexOf('repackage-cro')>-1){utag.loader.SC('utag_main',{'offerOriginPage':b['pageName']+';exp-session'});b['cp.utag_main_offerOriginPage']=b['pageName'];}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['offerOriginModal']!='undefined'){utag.loader.SC('utag_main',{'offerOriginModal':b['offerOriginModal']+';exp-session'});b['cp.utag_main_offerOriginModal']=b['offerOriginModal'];}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['offerOriginAction']!='undefined'){utag.loader.SC('utag_main',{'offerOriginAction':b['offerOriginAction']+';exp-session'});b['cp.utag_main_offerOriginAction']=b['offerOriginAction'];}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(1){c=[b['cp.utag_main_offerOriginPage'],b['cp.utag_main_offerOriginModal'],b['cp.utag_main_offerOriginAction']];b['_offerOriginPageModalActionTemp']=c.join('|')}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['purchaseStep']!='undefined'&&typeof b['_offerOriginPageModalActionTemp']!='undefined'&&b['_offerOriginPageModalActionTemp']!=''&&b['purchaseStep']=='checkout')||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartAdd')>-1&&typeof b['purchaseStep']!='undefined'&&b['purchaseStep']=='features')){b['_offerOriginPageModalAction']=b['_offerOriginPageModalActionTemp']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['purchaseStep']!='undefined'&&b['purchaseStep']=='checkout')||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('cartAdd')>-1&&typeof b['purchaseStep']!='undefined'&&b['purchaseStep']=='features')){utag.loader.SC('utag_main',{'offerOriginAction':'page'+';exp-session'});b['cp.utag_main_offerOriginAction']='page';}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['pageName']!='undefined'&&b['_utag_event']=='view')){b['pageOrModalName']=b['pageName']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['modalName']!='undefined'&&b['_utag_event']=='link')){b['pageOrModalName']=b['modalName']}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(b['serviceableCodes']&&b['serviceableCodes'].length>0){var all_codes=b.serviceableCodes,desired=['PRISMCODE','HOUSE_MARKETINGID'],captured=[];all_codes=all_codes.toUpperCase()
all_codes_array=all_codes.split(',');b.serviceableCodesSelected=[];for(z=0;z<desired.length;z++){for(i=0;i<all_codes_array.length;i++){if(all_codes_array[i].indexOf(desired[z])>-1&&b.serviceableCodesSelected.indexOf(all_codes_array[i])==-1){b.serviceableCodesSelected.push(all_codes_array[i])}}}
b['serviceableCodesSelectedTE']=[]
b['serviceableCodes'].split(',').forEach(function(el){if(el.toLowerCase().indexOf('house_marketingid')>-1){b['serviceableCodesSelectedTE'].push(el.split('_')[2])}})}}}catch(e){utag.DB(e)}},function(a,b,c,d){try{if((typeof b['idmRedirectTime']!='undefined'&&typeof b['idmWebServiceTime']!='undefined')){c=[b['idmRedirectTime'],b['idmWebServiceTime']];b['_idmTime']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['productOfferSource']!='undefined'&&typeof b['productOfferSource']!='undefined'&&b['productOfferSource']!='')){b['_productOfferSourceFinal']=b['productOfferSource']}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['productOfferPosition']!='undefined'&&typeof b['productOfferPosition']!='undefined'&&b['productOfferPosition']!='')){b['_productOfferPositionFinal']=b['productOfferPosition']}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['_productOfferSourceFinal']!='undefined'||typeof b['_productOfferPositionFinal']!='undefined'||typeof b['_productOfferSystemFinal']!='undefined'){c=[b['_productOfferSourceFinal'],b['_productOfferPositionFinal'],b['_productOfferSystemFinal']];b['_productOfferAttributes']=c.join(':')}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['purchaseStep']!='undefined'&&typeof b['flowName']!='undefined'&&b['purchaseStep']=='order'&&b['flowName']=='transfer')){b['_transferOrder']='1'}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if(typeof b['ppvProductId']!='undefined'||typeof b['ppvTitleCode']!='undefined'||typeof b['ppvTitleName']!='undefined'){c=[b['ppvProductId'],b['ppvTitleCode'],b['ppvTitleName'],b['ppvPrice'],b['ppvBroadcastType'],b['ppvEventDate']];b['_ppvFinal']=c.join('|')}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('easyPaySignUpShopSuccess')>-1&&b['eventNames'].toString().indexOf('easyPaySignUpShopFail')<0)){try{b['sc_events']=u.addEvent("event13")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('easyPaySignUpShopFail')>-1&&b['eventNames'].toString().indexOf('easyPaySignUpShopSuccess')<0)){try{b['sc_events']=u.addEvent("event14")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['productOfferSystem']!='undefined'&&typeof b['productOfferSystem']!='undefined'&&b['productOfferSystem']!='')){b['_productOfferSystemFinal']=b['productOfferSystem']}}catch(e){utag.DB(e);}},function(a,b){try{if(1){b._timeVisitID=sessionStorage.getItem('persistTimeVisitID');if(!b._timeVisitID){Number.prototype.pad=function(n){return new Array(n).join('0').slice((n)*-1)+this;};var d=new Date();var n1=d.getTime().toString();var n2=Math.floor(Math.random()*10000);var n3=n2.pad(5-n2.toString().length);tempTimeVisitID=parseInt(n1+n3);sessionStorage.setItem('persistTimeVisitID',JSON.stringify(tempTimeVisitID));b._timeVisitID=tempTimeVisitID;}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['pageName']=='cox:res:internet:connect2compete:docusign-success'){try{b['sc_events']=u.addEvent("event198")}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().toLowerCase().indexOf('chatButtonClicked'.toLowerCase())>-1&&typeof b['chatID']!='undefined')||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().toLowerCase().indexOf('chatButtonClicked'.toLowerCase())>-1&&typeof b['chatAdobeID']!='undefined')){try{b['sc_events']=u.addEvent("event89:"+(b.chatID||b.chatAdobeID))}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().toLowerCase().indexOf('chatStarted'.toLowerCase())>-1&&typeof b['chatID']!='undefined')||(typeof b['eventNames']!='undefined'&&b['eventNames'].toString().toLowerCase().indexOf('chatStarted'.toLowerCase())>-1&&typeof b['chatAdobeID']!='undefined')){try{b['sc_events']=u.addEvent("event84:"+(b.chatID||b.chatAdobeID))}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((typeof b['eventNames']!='undefined'&&b['eventNames'].toString().indexOf('disconnectSuccess')>-1)){try{b['sc_events']=u.addEvent("event141")}catch(e){}}}catch(e){utag.DB(e);}}];u.send=function(a,b,c,d,e,f,g,h,ev){if(u.ev[a]||typeof u.ev.all!="undefined"){utag.DB("send:422");u.data={"adobe_org_id":"8C6767C25245AD1A0A490D4C@AdobeOrg","cookieDomain":(function(){return utag.loader.RC('utag_main').vapi_domain||(function(){var i=0,d=document.domain,p=d.split('.'),s='_vapi'+new Date().getTime();while(i<(p.length-1)&&document.cookie.indexOf(s+'='+s)===-1){d=p.slice(-1-(++i)).join('.');document.cookie=s+'='+s+';domain='+d+';';}
document.cookie=s+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain='+d+';';utag.loader.SC('utag_main',{'vapi_domain':d});return d;}());}()),"a":{},"serial":{}};for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){if(e[f]==="adobe_org_id"||e[f]==="linkTrackVars"||e[f]==="linkTrackEvents"){u.data[e[f]]=b[d];}else if(e[f]==="combineLinkVar"){u.combineLinkVar=b[d];}}}}
u.queue.push({"a":a,"b":b,"u.data":u.data});vAPI.getInstance(u.data.adobe_org_id,function(instance){var data=u.queue.shift();a=data["a"];b=data["b"];u.data=data["u.data"];u.a=a;b.sc_events=b.sc_events||{};u.addEvent=function(v,n){var t=[];if(v instanceof Array){t=v.slice(0);}else if(typeof n!=="undefined"){t.push(v+"="+n);}else{t.push(v);}
for(var i=0;i<t.length;i++){b.sc_events[t[i]]=1;u.pushlt(u.lte,t[i].indexOf("=")>-1?t[i].split('=')[0]:t[i].split(':')[0]);}
return b.sc_events;};u.addProduct=function(v){u.data.sc_addProd="";if(v instanceof Array){u.data.sc_addProd=v.join(',');}else{u.data.sc_addProd=v;}};if(u.a==="link"){u.ltflag=true;if(typeof u.data.linkTrackVars==="undefined"&&typeof b.linkTrackVars==="undefined"){u.ltv=[];}
if(u.combineLinkVar&&typeof u.data.linkTrackVars!=="undefined"){u.typeCheck(u.data.linkTrackVars,"ltv");}else if(u.combineLinkVar&&typeof b.linkTrackVars!=="undefined"){u.typeCheck(b.linkTrackVars,"ltv");}
if(typeof u.data.linkTrackEvents==="undefined"&&typeof b.linkTrackEvents==="undefined"){u.lte=[];}
if(u.combineLinkVar&&typeof u.data.linkTrackEvents!=="undefined"){u.typeCheck(u.data.linkTrackEvents,"lte");}else if(u.combineLinkVar&&typeof b.linkTrackEvents!=="undefined"){u.typeCheck(b.linkTrackEvents,"lte");}}
u.data.tagdevicetype="standard";u.data.detectserial="yes";for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};try{if(window.sessionStorage){var standardDimensions=sessionStorage.getItem('s_dmdbase')||'';var customDimensions1=sessionStorage.getItem('s_dmdbase_custom1')||'';var customDimensions2=sessionStorage.getItem('s_dmdbase_custom2')||'';var customDimensions3=sessionStorage.getItem('s_dmdbase_custom3')||'';var customDimensions4=sessionStorage.getItem('s_dmdbase_custom4')||'';u.o.contextData.s_dmdbase=standardDimensions;u.o.contextData.s_dmdbase_custom1=customDimensions1;u.o.contextData.s_dmdbase_custom2=customDimensions2;u.o.contextData.s_dmdbase_custom3=customDimensions3;u.o.contextData.s_dmdbase_custom4=customDimensions4;}}
catch(e){utag.DB('AppMeasurement Demandbase Error: '+e.message);}
if(u.data.tagdevicetype==="mobile"){if(b.timestamp||b.timestamp_unix){u.o.timestamp=b.timestamp||b.timestamp_unix;}
u.data.a={"AppID":b.app_id||"","CarrierName":b.carrier||"","DeviceName":b.device||"","HourOfDay":b.lifecycle_hourofday_local||"","DayOfWeek":b.lifecycle_dayofweek_local||"","OSVersion":b.os_version||b.platform_version||"","Resolution":b.device_resolution||""};if(b.lifecycle_type){u.data.a.disable_wake_track=false;u.data.a.disable_sleep_track=false;u.data.a.DaysSinceFirstUse=b.lifecycle_dayssincelaunch||"";u.data.a.DaysSinceLastUpgrade=b.lifecycle_dayssinceupdate||"";u.data.a.DaysSinceLastUse=b.lifecycle_dayssincelastwake||"";u.data.a.Launches=b.lifecycle_launchcount||"";u.data.a.InstallDate=b.lifecycle_firstlaunchdate_MMDDYYYY||"";u.data.a.UpgradeEvent=b.lifecycle_isfirstlaunchupdate||"";u.data.a.PrevSessionLength=b.lifecycle_priorsecondsawake||"";}
if(b.lifecycle_isfirstlaunch){u.data.a.InstallEvent="InstallEvent";}
if(b.lifecycle_diddetectcrash){u.data.a.CrashEvent="CrashEvent";}
if(b.lifecycle_type==="launch"){u.data.a.LaunchEvent="LaunchEvent";}
if(b.lifecycle_isfirslaunchupdate){u.data.a.UpgradeEvent="UpgradeEvent";}}
for(e in utag.loader.GV(u.map)){if(u.data.tagdevicetype==="mobile"){if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("contextData.a.")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("contextData.a.")===0){u.data.a[f[g].substring(14)]=b[e];}}}}else if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("SERIAL_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("SERIAL_")===0){u.data.serial[f[g].substring(7)]=b[e];}}}else if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("PRODUCTS_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){if(f[g].indexOf("PRODUCTS_id")||f[g].indexOf("PRODUCTS_category")||f[g].indexOf("PRODUCTS_quantity")||f[g].indexOf("PRODUCTS_price")){u.data[f[g].substring(9)]=b[e];}}}}
if(u.data.a.disable_wake_track===true||u.data.a.disable_wake_track==="true"){if(b.lifecycle_type==="wake"){return false;}}
if(u.data.a.disable_sleep_track===true||u.data.a.disable_sleep_track==="true"){if(b.lifecycle_type==="sleep"){return false;}}
u.data.id=u.data.id||(typeof b._cprod!="undefined"?b._cprod.slice(0):[]);u.data.category=u.data.category||(typeof b._ccat!="undefined"?b._ccat.slice(0):[]);u.data.quantity=u.data.quantity||(typeof b._cquan!="undefined"?b._cquan.slice(0):[]);u.data.price=u.data.price||(typeof b._cprice!="undefined"?b._cprice.slice(0):[]);if(typeof u.data.id!="undefined"&&u.data.id!=""){c=[];d={};ev={};for(e in utag.loader.GV(u.map)){if(typeof b[e]!="undefined"&&typeof u.map[e]=="string"&&u.map[e].indexOf("PRODUCTS_")>-1){f=u.map[e].split(",");for(g=0;g<f.length;g++){var pv=f[g].substring(9);if(f[g].indexOf("PRODUCTS_evar")==0||f[g].indexOf("PRODUCTS_eVar")==0){if(b[e]instanceof Array){b.sc_prodevars=b.sc_prodevars||[];for(var i=0;i<b[e].length;i++){var prodvars={};if(typeof b.sc_prodevars[i]!="undefined"&&b.sc_prodevars[i]!=""){b.sc_prodevars[i][pv]=b[e][i];}else{prodvars[pv]=b[e][i];b.sc_prodevars.push(prodvars);}}}else{d[pv]=(b[e]+"").split(",");}}else if(f[g].indexOf("PRODUCTS_event")==0){if(b[e]instanceof Array){b.sc_prodevents=b.sc_prodevents||[];for(var i=0;i<b[e].length;i++){var prodevents={};if(typeof b.sc_prodevents[i]!="undefined"&&b.sc_prodevents[i]!=""){b.sc_prodevents[i][pv]=b[e][i];}else{prodevents[pv]=b[e][i];b.sc_prodevents.push(prodevents);}}
u.addEvent(pv);}else if(b[e]!==""){ev[pv]=b[e];u.addEvent(pv);}}}}}
e="";for(f in utag.loader.GV(d)){for(g=0;g<d[f].length;g++){if(e!="")e+="|"+f+"="+d[f][g];else e=f+"="+d[f][g];}}
h="";for(f in utag.loader.GV(ev)){if(h)h+="|"+f+"="+((isNaN(ev[f]))?"1":ev[f]);else h=f+"="+((isNaN(ev[f]))?"1":ev[f]);}
b.sc_prodevents=b.sc_prodevents||[];b.sc_prodevars=b.sc_prodevars||[];for(d=0;d<u.data.id.length;d++){var h2=h;var h3=e;if(typeof b.sc_prodevents!="undefined"){for(f in b.sc_prodevents[d]){if(typeof b.sc_prodevents[d][f]!="undefined"){var l=b.sc_prodevents[d][f];if(typeof l!="undefined"&&l!=""&&isNaN(l)==false){if(h2){h2+="|"+f+'='+l;}else{h2=f+'='+l;}}}}}
if(typeof b.sc_prodevars!="undefined"){for(f in b.sc_prodevars[d]){if(typeof b.sc_prodevars[d][f]!="undefined"){var l=b.sc_prodevars[d][f];if(typeof l!="undefined"&&l!=""){if(h3){h3+="|"+f+'='+l;}else{h3=f+'='+l;}}}}}
c.push((u.data.category[d]?u.data.category[d]:"")+";"+u.data.id[d]+";"+(u.data.quantity[d]?u.data.quantity[d]:"")+";"+(u.data.price[d]?((u.data.quantity[d]?parseInt(u.data.quantity[d]):1)*parseFloat(u.data.price[d])).toFixed(2):"")+";"+h2+";"+h3);}
if(typeof u.data.sc_addProd!=="undefined"&&u.data.sc_addProd){c.push(u.data.sc_addProd);}
u.o.products=c.join(",");}else{u.o.products="";}
var evt=/^event|prodView|scOpen|scAdd|scRemove|scView|scCheckout|purchase$/;for(c in utag.loader.GV(b)){if(b[c]!==""){f=(""+b[c]).split(",");for(g=0;g<f.length;g++){h=f[g].split(":");d=[];if(u.data.detectserial==="no"){if(typeof u.map[c+":"+h.join(":")]!="undefined"){d=u.map[c+":"+h.join(":")].split(",");}else if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");}}else{if(h.length>1){var subTrigger=h[0];for(var i=1;i<h.length-1;i++){subTrigger+=":"+h[i];}
h[0]=subTrigger;h[1]=h[h.length-1];}
if(typeof u.map[c+":"+h[0]]!="undefined"){d=u.map[c+":"+h[0]].split(",");}else if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");}}
for(e=0;e<d.length;e++){if(d[e]!="events"&&evt.test(d[e])&&d[e].indexOf("SERIAL_")!==0){if(u.data.serial[d[e]]!==undefined&&u.data.serial[d[e]]!==""){u.addEvent(d[e]+":"+u.data.serial[d[e]]);}else{if(u.data.detectserial==="yes"){u.addEvent(d[e]+(h.length>1?":"+h[1]:""));}else{u.addEvent(d[e]);}}}}}}}
for(var m in u.data.a){u.o.contextData["a."+m]=u.data.a[m];u.pushlt(u.ltv,"contextData.a."+m);}
for(c in utag.loader.GV(b)){if(typeof u.map[c]!="undefined"){d=u.map[c].split(",");for(e=0;e<d.length;e++){if(d[e].indexOf("VALUE_")==0){if(u.data.serial[d[e]]!==undefined&&u.data.serial[d[e]]!==""){u.addEvent(d[e].substring(6),b[c]+":"+u.data.serial[d[e]]);}else{u.addEvent(d[e].substring(6),b[c]);}}else if(d[e]=="doneAction"){b.doneAction=b[c];if(b.doneAction!="navigate"){b.doneAction=eval(b[c]);}}else if(d[e].indexOf("c.")==0||d[e].indexOf("contextData.")==0){d[e]=d[e].replace("contextData.","c.");if(!(d[e][2]==="a"&&d[e][3]===".")){u.o.contextData[d[e].substring(2)]=b[c];u.pushlt(u.ltv,"contextData."+d[e].substring(2))}}else{if(c=="sc_events"||c=="sc_prodevents"||c=="sc_prodevars"){utag.DB("Error:422: Mapping reserved object name "+c)}else{u.o[d[e]]=b[c];}
if(d[e]=="s_account"){u.o.account=b[c];}else if(d[e]=="linkTrackVars"){u.ltflag=false;}else{if(u.combineLinkVar){u.ltflag=true;}
if(d[e]!=="combineLinkVar"){u.pushlt(u.ltv,d[e]);}}}}}}
d=[];for(c in utag.loader.GV(b.sc_events)){if(b.sc_events[c])d.push(c);}
if(d.length>0){u.o.events=d.join(",");u.pushlt(u.lte,u.o.events);}else{u.o.events="";}
if(b._ccurrency){u.o.currencyCode=b._ccurrency;}
if(b._corder){u.pushlt(u.lte,"purchase");u.pushlt(u.ltv,"purchaseID");u.o.purchaseID=((u.o.purchaseID)?u.o.purchaseID:b._corder);u.o.events=((u.o.events)?u.o.events:"purchase");if(u.o.events.indexOf("purchase")<0){u.o.events+=",purchase";}}
if(instance){u.o.visitor=instance;}
if(!u.o.visitor){if(typeof visitor!=='undefined'){u.o.visitor=window.visitor;}else if(typeof Visitor!=="undefined"&&typeof Visitor.getInstance!=="undefined"){u.o.visitor=Visitor.getInstance(u.data.adobe_org_id);}}
u.o.cookieDomain=u.o.visitor?u.o.visitor.cookieDomain||u.data.cookieDomain:u.data.cookieDomain;if(u.a=="view"){var img=u.o.t();if(typeof img!="undefined"&&img!=""){u.img=new Image();u.img.src=img.substring(img.indexOf("src=")+5,img.indexOf("width=")-2);}}else if(u.a=="link"){if(typeof u.ltv!="undefined"&&u.ltflag){if(u.o.events){u.ltv.push("events");}
if(u.o.products){u.ltv.push("products");}
b.linkTrackVars=u.ltv.join(',')}
if(typeof u.lte!="undefined"&&u.ltflag)b.linkTrackEvents=u.lte.join(',');u.o.linkTrackVars=(b.linkTrackVars)?b.linkTrackVars:"None";u.o.linkTrackEvents=(b.linkTrackEvents)?b.linkTrackEvents:"None";if(!u.o.linkType)u.o.linkType='o';if(b.link_name)b.link_text=b.link_name;b.link_text=(b.link_text)?b.link_text:"no link_name";if(b.link_type=='exit link'){u.o.linkType='e'}
else if(b.link_type=='download link')u.o.linkType='d';u.o.tl(((b.link_obj)?b.link_obj:true),u.o.linkType,b.link_text,null,(b.doneAction?b.doneAction:null));}
if("no"=="yes"){u.o.clearVars();u.o.contextData={};}
utag.DB("send:422:COMPLETE");});}};try{utag.o[loader].loader.LOAD(id)}catch(e){utag.loader.LOAD(id)}})('422','cox.main');}catch(e){utag.DB(e);}
